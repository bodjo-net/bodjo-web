<!DOCTYPE html>	
<html>
<head>
	<meta charset="utf-8">
	<title>Tanks</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="../game-main.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Source+Code+Pro:400,700&amp;subset=cyrillic" rel="stylesheet">
</head>
<body>
	<div id="game">
		<div id="field">
			<canvas></canvas>
			<div id="control">
				
			</div>
		</div>
	</div>
	<div id="workspace">
		<div id="resizer"></div>
		<div id='tabs'>
			<div class='tab' id="tab-code">Код</div><div class='tab active' id="tab-docs">Документация</div><div class='tab' id="tab-scoreboard">Таблица</div>
		</div>
		<div id="content">
			<div class="section" id="code">
				<div id="editor"></div>
			</div>
			<div class="section active" id="docs">
				<h1>Документация</h1>
				<h2><i>bodjo/tanks</i></h2>
				<br>
				<h3>Правила игры</h3>
				<p>У каждого игрока только один танк, который может стрелять с определенным интервалом и ездить с определенной максимальной скоростью. Танк находится вместе с другими танками на одном поле. Задача игрока: умереть как можно меньше и убить как можно больше танков.</p>
				<p>Рекордная таблица строится с учетом убийств и смертей, но место каждого игрока ставится по отношению убийств к смертям. Т.е. если вы убили 10 танков и умерли 4 раза, то ваш "K/D" равен 10/4, или 2.5.</p>
				<br>
				<h3>Код</h3>
				<h4>Входные данные</h4>
				<p>Вам дана функция:</p>
<pre>function onTick(data) {
	// TODO

}</pre>
				<p>Она запускается каждый "тик" сервера (приблизительно 45 раз в секунду). Т.е. ваша функция не должна долго обрабатываться, сервер может принять ваш ответ как для следующего "тика". Постарайтесь ограничиться 16 миллисекундами.</p>
				<p>Вашей функции доступны три константы: width, height и tankRadius.</p>
				<p>Аргумент функции - объект data, содержащий в себе:</p>
				<ul>
					<li>time <b>number</b> (номер "тика")</li>
					<li>me <b>object</b> (информация о своем танке)
						<ul>
							<li>x <b>number</b> (от 0 до width)</li>
							<li>y <b>number</b> (от 0 до height)</li>
							<li>hp <b>number</b></li>
							<li>color <b>string</b></li>
							<li>username <b>string</b></li>
							<li>lastShot <b>string</b> (номер "тика" последнего выстрела; может быть -1, если выстрела еще не было)</li>
						</ul>
					</li>
					<li>enemies <b>array</b> (информация о танках противников)<br>
						[{
						<ul>
							<li>x <b>number</b> (от 0 до width)</li>
							<li>y <b>number</b> (от 0 до height)</li>
							<li>hp <b>number</b></li>
							<li>direction <b>number</b> (угол направления езды танка (радианы))</li>
							<li>directionHead <b>number</b> (угол головы танка (радианы))</li>
							<li>hp <b>number</b></li>
							<li>color <b>string</b></li>
							<li>username <b>string</b></li>
							<li>lastShot <b>string</b></li>
						</ul>
						},...]
					</li>
					<li>bullets <b>array</b> (информация о пулях)<br>
						[{
						<ul>
							<li>x <b>number</b> (от 0 до width)</li>
							<li>y <b>number</b> (от 0 до height)</li>
							<li>angle <b>number</b> (угол полёта (радианы))</li>
							<li>vx <b>number</b> (X координата вектора полёта)</li>
							<li>vy <b>number</b> (Y координата вектора полёта)</li>
							<li>color <b>string</b> (цвет)</li>
							<li>owner <b>string</b> (владелец пули, его username)</li>
						</ul>
						},...]
					</li>
					<li>bonuses <b>array</b> (информация о бонусах)<br>
						[{
						<ul>
							<li>x <b>number</b> (от 0 до width)</li>
							<li>y <b>number</b> (от 0 до height)</li>
							<li>type <b>string</b> (пока доступен только 'heal')</li>
							<li>radius <b>number</b> (радиус окружности, внутри которого подбирается бонус)</li>
						</ul>
						},...]
					</li>
				</ul>
				<p>Как вы можете заметить, в информации мы вас не ограничиваем и не заставляем распознавать чья пуля, в какой угол летит и т.д.</p>
				<h4>Выходные данные</h4>
				<p>Ваша функция onTick(data) должна возвращать объект с тремя ключами:</p>
				<ul>
					<li>move <b>array</b><br>
					[
						<ul>
							<li>0: <b>number</b> (x вектора движения)</li>
							<li>1: <b>number</b> (y вектора движения)</li>
						</ul>	
					]
					</li>
					<li>head <b>number</b> (направление головы)</li>
				</ul>
			</div>
			<div class='section' id='scoreboard'>
				<table>
					<tbody>
						<tr>
							<th>Место</th>
							<th>Никнейм</th>
							<th>Убийств</th>
							<th>Смертей</th>
							<th>Соотношение</th>
						</tr>
					</tbody>
					<tbody>
					</tbody>
				</table>
			</div>
		</div>
		<div id="control-panel">
			<div class='btn ripple' id="play">
			</div>
			<div class='btn ripple' id="pause">
			</div>
		</div>
	</div>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.3/ace.js"></script>
	<script type="text/javascript">
		const gameName = 'tanks';
	</script>
	<script src="../ripple.js" type="text/javascript"></script>
	<script src="../game-main.js" type="text/javascript"></script>
	<script src="renderer.js" type="text/javascript"></script>
	<script src="logic.js" type="text/javascript"></script>
</body>
</html>