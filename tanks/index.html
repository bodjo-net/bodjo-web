<!DOCTYPE html>	
<html>
<head>
	<meta charset="utf-8">
	<title>Tanks</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="../game-main.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Source+Code+Pro:400,700&amp;subset=cyrillic" rel="stylesheet">
</head>
<body>
	<div id="game">
		<div id="field">
			<canvas></canvas>
			<div id="control">
				
			</div>
		</div>
	</div>
	<div id="workspace">
		<div id="resizer"></div>
		<div id='tabs'>
			<div class='tab' id="tab-code">Код</div><div class='tab active' id="tab-docs">Документация</div><div class='tab' id="tab-scoreboard">Таблица</div>
		</div>
		<div id="content">
			<div class="section" id="code">
				<div id="editor"></div>
			</div>
			<div class="section active" id="docs">
# Документация

### _bodjo/tanks_

## Правила игры
Каждому игроку дается возможность управлять танком случайного цвета (необязательно уникального) на игровом виртуальном поле. Танк умеет ездить (move), поворачивать "головой" (headAngle) и стрелять (shoot).

"Здоровье" танка - число от 0 до 1. Обычно урон одной пули 0.25, но если подобрать бонус элитной аммуниции, то урон возрастет до 0.5, т.е. полностью новый танк можно уничтожить за четыре обычных выстрела, или два бонусных. Единственная возможность пополнить здоровье - бонусы "аптечки", которые чинят танк на 0.5 в течении 10 секунд.

Чтобы подняться в таблице рекордов, необходимо набрать как можно больше очков. Очки даются за уничтожение танка противника. Первое уничтожение - +100 очков, следующее - +125 очков, смерть - счётчик сбрасывается и за следующее убийство дадут снова +100 очков. Говоря математическим языком, количество очков за уничтожение: 100 + 25 * combo, где _combo_ - номер итерации цикла, который сбрасывается после смерти танка, или смене кода.

## Код

### Входные данные

Ваша задача, в первую очередь - написать функцию `onTick()`. Она может принимать один аргумент - данные игрового поля в виде объекта. Также в глобальном окружении в виде констант вам даны три значения: **[number]** width, **[number]** height и **[number]** tankRadius. Ширина и высота - это количество условных единиц, не пикселей.

Далее идет перечисление всех ключей и значений, которые вы можете найти в данном аргументе. Не стоит бояться столь большого их количества, многое из этого вам может не понадобиться.

Вы также можете "пощупать" данные в консоли, введя `lastData` и получив последний ответ сервера.

* * * 

**[object]** data

- **[number]** time (номер "тика" - обновления поля)
- **[object]** me (данные о вашем танке)
    - **[number]** x (от 0 до width)
    - **[number]** y (от 0 до height)
    - **[number]** hp (здоровье, от 0 до 1)
    - **[string]** username (ваш юзернейм, вдруг вы забыли)
    - **[string]** color (цвет танка)
    - **[number]** lastShot (номер "тика", когда был последний выстрел; удобно понимать, когда можно стрелять, учитывая, что перезаряд танка - 15 "тиков")
    - **[object]** activeBonuses (активные бонусы)
    	- **[object]** heal (бонус "аптечка"; может отсутствовать в объекте, если бонуса нет)
    		- **[number]** start (номер "тика", когда был подобран бонус)
    		- **[number]** duration (количество "тиков", сколько бонус будет действовать)
    	- **[object]** ammo (бонус элитной аммуниции; может отсутствовать в объекте, если бонуса нет)
    		- **[number]** start (номер "тика", когда был подобран бонус)
    		- **[number]** duration (количество "тиков", сколько бонус будет действовать)
- **[array]** enemies (данные о вражеских танках)

	[{

	- **[number]** x (от 0 до width)
	- **[number]** y (от 0 до height)
	- **[number]** hp (здоровье, от 0 до 1)
	- **[number]** angle (поворот танка, в радианах)
	- **[number]** headAngle (поворот головы танка, в радианах)
	- **[string]** username (юзернейм владельца вражеского танка)
	- **[string]** color (цвет вражеского танка)
	- **[number]** lastShot (время, номер "тика" последнего выстрела)

	},...]

- **[array]** bonuses (не подобранные бонусы)
	
	[{

	- **[number]** x (от 0 до width)
	- **[number]** y (от 0 до height)
	- **[number]** radius (радиус, при котором бонус подберётся)
	- **[string]** type (тип бонуса, "heal" или "ammo")

	},...]

			</div>
			<script type="text/javascript" src="/lib/markdown.js"></script>
			<script type="text/javascript">
				var docs = document.querySelector("#docs");
				docs.innerHTML = toHTML(docs.innerHTML);
			</script>
			<div class='section' id='scoreboard'>
				<table>
					<tbody>
						<tr>
							<th>Место</th>
							<th>Никнейм</th>
							<th>Очки</th>
						</tr>
					</tbody>
					<tbody>
					</tbody>
				</table>
			</div>
		</div>
		<div id="control-panel">
			<div class='btn ripple' id="play">
			</div>
			<div class='btn ripple' id="pause">
			</div>
		</div>
	</div>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.3/ace.js"></script>
	<script type="text/javascript">
		const gameName = 'tanks';
		const defaultCode = '// constants: width, height, tankRadius\n// this function is runned every tick\n\nfunction onTick(data) {\n\n\treturn {\n\t\tmove: [0, 0],\n\t\thead: Date.now()/1000*PI,\n\t\tshoot: true\n\t}\n}';
	</script>
	<script src="../ripple.js" type="text/javascript"></script>
	<script src="renderer.js" type="text/javascript"></script>
	<script src="logic.js" type="text/javascript"></script>
	<script src="../game-main.js" type="text/javascript"></script>
</body>
</html>