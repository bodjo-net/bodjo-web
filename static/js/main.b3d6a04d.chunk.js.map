{"version":3,"sources":["Components/Link/Link.jsx","Components/Button/Button.jsx","Components/Loading/Loading.jsx","Controllers/DialogController.js","Controllers/APIController.js","Controllers/StorageController.js","Controllers/AccountController.js","Controllers/LanguageController.js","Pages/Index/GamesList/GamesList.jsx","Pages/Index/NewsList/NewsList.jsx","Pages/Index/Index.jsx","Components/Input/Input.jsx","Pages/LoginPage/LoginPage.jsx","Pages/RegisterPage/RegisterPage.jsx","Controllers/UserInfoController.js","Components/Textarea/Textarea.jsx","Pages/MyAccount/MyAccount.jsx","Components/Face/Face.jsx","Pages/News/News.jsx","Pages/Scoreboard/Scoreboard.jsx","Components/User/User.jsx","Parts/Header/Auth.jsx","Parts/Header/Header.jsx","Parts/Footer/Footer.jsx","App.jsx","index.js"],"names":["links","_Link","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","__to","to","Array","isArray","push","assertThisInitialized","_this2","index","findIndex","link","splice","current","window","location","pathname","dest","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","forceUpdate","err","return","indexOf","react_default","a","createElement","href","className","children","react_router_dom","onClick","bind","React","Component","Button","enterHandler","onEnter","state","disabled","element","event","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","R","Math","max","sqrt","pow","width","height","ripple","document","style","position","transition","borderRadius","opacity","id","Date","now","setTimeout","append","ripples","querySelectorAll","_loop","i","start","parseInt","substring","remove","length","ReactDOM","findDOMNode","overflow","down","_down","up","_up","addEventListener","body","enter","removeEventListener","nextProps","setState","keyCode","invert","redirect","Loading_Loading","inline","randomFace","zindex","showDialog","header","content","code","dialog","zIndex","dialogContent","h1","innerHTML","appendChild","h2","innerText","p","pre","API","SERVER_HOST","__query","__init","GET","status","hostname","forEach","args","apply","slice","url","data","cb","tryToParse","xhr","XMLHttpRequest","isAPIRequest","censoredURL","concat","prototype","arguments","keys","map","key","encodeURIComponent","join","console","log","open","send","onreadystatechange","readyState","responseText","JSON","parse","e","getAllResponseHeaders","statusText","error","statusCode","POST","before","Storage","get","name","o","getCookie","localStorageGet","localStorageSet","setCookie","domain","set","v","stringify","max-age","deleteCookie","localStorage","removeItem","getItem","setItem","matches","cookie","match","RegExp","replace","decodeURIComponent","options","objectSpread","path","updatedCookie","optionKey","optionValue","AccountController","EMAIL_REGEX","__listeners","token","storage","username","loading","verified","check","callback","listener","password","emit","errParameter","email","file","ext","image/png","image/jpeg","image/jpg","image/gif","type","req","formData","FormData","_this3","about","_this4","account","LanguageController","text","lang","langs","navigator","language","toLowerCase","updateLang","newLang","reload","T","GamesList","gameServers","self","obtain","component","isMounted","games","servers","server","gameServer","GameServer","info","__gamesListCache","roptions","serverName","destroy","game","local","gameName","realGameName","serversContent","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","players","showName","Components_Button_Button","go","Components_Link_Link","spectateLink","unshift","backgroundImage","src","onUpdate","host","apihost","pingTimeout","clearTimeout","loadInfo","img","Image","onload","wasStatus","update","playersCount","maxPlayersCount","pagesCount","NewsList","news","pages","newsPiece","html","parseBodjoPage","preview","newState","newsTotal","total","__newsListCache","q","order","count","page","dangerouslySetInnerHTML","__html","IndexPage","loadBodjoPage","signature","cache","Index_GamesList_GamesList","Index_NewsList_NewsList","Input","hasError","input","placeholder","onChange","onKeyUp","defaultValue","LoginPage","usernameInput","createRef","passwordInput","on","login","errCode","react_router","Components_Input_Input","ref","onSubmit","RegisterPage","repeatPasswordInput","emailInput","passwordRepeat","test","register","UserInfo","__callbacks","__lastQueryAppend","load","lastQueryAppend","usernames","_username","result","my","Textarea","querySelector","textarea","rootdiv","span","digit","b","MyAccountPage","submitButton","aboutInput","_ismounted","logout","edit","persist","target","files","uploadImage","image","imaget","alert","errText","min","timeSpent","timeString","timeRanges","countLastNumber","d","floor","string","getTimeString","handleImageUpload","accept","Components_Textarea_Textarea","handleEdit","handleLogout","faces","round","random","spans","animationDelay","h","NewsPage","Face_Face","ScoreboardPage","User","me","Auth","Components_User_User","Header","Header_Auth","Footer","toUpperCase","App","Header_Header","exact","Index","Footer_Footer","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.b3d6a04d.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport './Link.css';\n\nlet links = {}\nclass _Link extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.__to = props.to;\n\t\tif (!Array.isArray(links[props.to]))\n\t\t\tlinks[props.to] = [];\n\t\tlinks[props.to].push(this);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tlet index = links[this.props.to].findIndex(link => link == this);\n\t\tif (index >= 0)\n\t\t\tlinks[this.props.to].splice(index, 1);\n\t}\n\n\tonClick(to) {\n\t\tlet current = window.location.pathname;\n\t\tfor (let dest in links) {\n\t\t\tif (dest == current || dest == to) {\n\t\t\t\tfor (let link of links[dest])\n\t\t\t\t\tlink.forceUpdate();\n\t\t\t}\n\t\t}\n\t\tthis.__to = to;\n\t}\n\n\trender() {\n\t\tif (this.props.to.indexOf('\\/\\/') == 0 ||\n\t\t\tthis.props.to.indexOf('http:\\/\\/') == 0 ||\n\t\t\tthis.props.to.indexOf('https:\\/\\/') == 0)\n\t\t\treturn <a href={this.props.to} className={(this.props.className||'')+' link'}>{this.props.children}</a>;\n\n\t\treturn <Link \n\t\t\t\t\tto={this.props.to} \n\t\t\t\t\tonClick={this.onClick.bind(this, this.props.to)}\n\t\t\t\t\tclassName={'link '+(this.props.className||'')+\n\t\t\t\t\t\t\t   ((window.location.pathname == this.props.to ||\n\t\t\t\t\t\t\t\t window.location.pathname == this.__to) ? ' active' : '')}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Link>;\n\t}\n}\n\nexport default _Link;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Button.css';\n\nclass Button extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.enterHandler = this.onEnter.bind(this);\n\t\tthis.state = {\n\t\t\tdisabled: props.disabled\n\t\t};\n\t}\n\t\n\t_down(element, event) {\n\t\tif (this.state.disabled)\n\t\t\treturn;\n\t\tlet rect = element.getBoundingClientRect();\n\t\tlet x = (event.clientX - rect.left), y = (event.clientY - rect.top);\n\t\tlet R = Math.max(\n\t\t\t\t\tMath.sqrt(Math.pow(x, 2) + Math.pow(y, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x-rect.width, 2) + Math.pow(y, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x, 2) + Math.pow(y-rect.height, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x-rect.width, 2) + Math.pow(y-rect.height, 2))\n\t\t\t\t);\n\n\t\tlet ripple = document.createElement('div');\n\t\tripple.className = 'ripple';\n\t\tripple.style.position = 'absolute';\n\t\tripple.style.transition = 'all 0.25s cubic-bezier(0.215, 0.61, 0.355, 1)';\n\t\tripple.style.borderRadius = '50%';\n\t\tripple.style.opacity = '1';\n\t\tripple.style.top = y + \"px\";\n\t\tripple.style.left = x + \"px\";\n\t\tripple.style.width = ripple.style.height = '0px';\n\t\tripple.id = 's' + Date.now();\n\t\tsetTimeout(function () {\n\t\t\tripple.style.opacity = '0.75';\n\t\t\tripple.style.top = (y-R) + \"px\";\n\t\t\tripple.style.left = (x-R) + \"px\";\n\t\t\tripple.style.width = ripple.style.height = R*2 + 'px';\n\t\t}, 10);\n\n\t\telement.append(ripple);\n\t}\n\t_up(element, event) {\n\t\tlet ripples = element.querySelectorAll('.ripple');\n\t\tif (ripples == null)\n\t\t\treturn;\n\n\t\tfor (let i = 0; i < ripples.length; ++i) {\n\t\t\tlet ripple = ripples[i];\n\t\t\tlet start = parseInt(ripple.id.substring(1));\n\t\t\tif (Date.now() - start > 250) {\n\t\t\t\tripple.style.opacity = '0';\n\t\t\t\tsetTimeout(ripple.remove.bind(ripple), 250);\n\t\t\t} else {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tripple.style.opacity = '0';\n\t\t\t\t\tsetTimeout(ripple.remove.bind(ripple), 250);\n\t\t\t\t}, 250 - (Date.now() - start))\n\t\t\t}\n\t\t}\n\t}\n\n\n\tcomponentDidMount() {\n\t\tlet element = ReactDOM.findDOMNode(this);\n\t\telement.style.position = 'relative';\n\t\telement.style.overflow = 'hidden';\n\n\t\tthis.down = this._down.bind(this, element);\n\t\tthis.up = this._up.bind(this, element);\n\t\telement.addEventListener('mousedown', this.down);\n\t\tdocument.body.addEventListener('mouseup', this.up);\n\t}\n\tcomponentWillMount() {\n\t\tif (this.props.enter)\n\t\t\twindow.addEventListener('keyup', this.enterHandler);\n\t}\n\tcomponentWillUnmount() {\n\t\tif (this.props.enter)\n\t\t\twindow.removeEventListener('keyup', this.enterHandler);\n\n\t\tdocument.body.removeEventListener('mouseup', this.up);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.disabled !== this.state.disabled)\n\t\t\tthis.setState({ disabled: nextProps.disabled });\n\t}\n\tonEnter(event) {\n\t\tif (event.keyCode == 13) {\n\t\t\tif (typeof this.props.onClick === 'function')\n\t\t\t\tthis.props.onClick();\n\t\t}\n\t}\n\n\tredirect(to) {\n\t\twindow.location.href = to;\n\t}\n\n\trender() {\n\t\tlet className = this.props.className || '';\n\t\tif (this.props.invert)\n\t\t\tclassName += ' invert';\n\t\tif (this.state.disabled)\n\t\t\tclassName += ' disabled';\n\t\treturn ( \n\t\t\t<div className={className+' button'} \n\t\t\t\t id={this.props.id} \n\t\t\t\t onClick={this.props.to ? this.redirect.bind(this, this.props.to) : this.props.onClick}>\n\t\t\t\t {this.props.children}\n\t\t\t</div> \n\t\t);\n\t}\n}\n\nexport default Button;","import React from 'react';\nimport './Loading.css';\nexport default function (props) {\n\treturn <div className={(props.inline?'inline ':'')+'loader'}></div>\n}","import './Dialog.css';\n\nwindow.randomFace = function () {\n\treturn ;\n}\n\nlet zindex = 100500;\nwindow.showDialog = function (header, content, code) {\n\tlet dialog = document.createElement('div');\n\tdialog.className = \"dialog\";\n\tdialog.style.zIndex = zindex++;\n\n\tlet dialogContent = document.createElement('div');\n\tdialogContent.className = \"dialog-content\";\n\n\tlet h1 = document.createElement('h1');\n\th1.innerHTML = window.randomFace('html');\n\tdialogContent.appendChild(h1);\n\n\tlet h2 = document.createElement('h2');\n\th2.innerText = header;\n\tdialogContent.appendChild(h2);\n\n\tlet p = document.createElement('p');\n\tp.innerText = content;\n\tdialogContent.appendChild(p);\n\n\tif (code) {\n\t\tlet pre = document.createElement('pre');\n\t\tpre.innerText = code;\n\t\tdialogContent.appendChild(pre);\n\t}\n\n\tdialog.appendChild(dialogContent);\n\n\tdocument.body.appendChild(dialog);\n\tdocument.body.style.overflow = 'hidden';\n}","import './DialogController.js';\n\nlet SERVER_HOST = null;\n\nlet API = {\n\tSERVER_HOST: null,\n\t__query: [],\n\t__init: function () {\n\t\tAPI.GET('https://bodjo.net/SERVER_HOST', (status, hostname) => {\n\t\t\tif (status) {\n\t\t\t\tAPI.SERVER_HOST = hostname;\n\t\t\t\tif (API.__query.length > 0) {\n\t\t\t\t\tAPI.__query.forEach(args => API[args[0]].apply(API, args.slice(1)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.showDialog('Tried to obtain server\\'s hostname.', 'https://bodjo.net\\nGET /SERVER_HOST/')\n\t\t\t}\n\t\t});\n\t},\n\tGET: function (url, data, cb, tryToParse) {\n\t\tif (typeof data !== 'object') {\n\t\t\ttryToParse = cb || true;\n\t\t\tcb = data;\n\t\t}\n\t\tif (typeof tryToParse === 'undefined')\n\t\t\ttryToParse = true;\n\t\tlet xhr = new XMLHttpRequest();\n\t\tlet isAPIRequest = false;\n\t\tlet censoredURL = url;\n\t\tif (typeof data === 'object') {\n\t\t\tif (API.SERVER_HOST == null) {\n\t\t\t\tAPI.__query.push(['GET'].concat(Array.prototype.slice.apply(arguments)));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisAPIRequest = true;\n\t\t\tcensoredURL = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + (key=='token'||key=='password'?'<'+key+'>':encodeURIComponent(data[key]))).join('&');\n\t\t\turl = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + encodeURIComponent(data[key])).join('&');\n\t\t}\n\t\tconsole.log('[API] GET ' + url);\n\t\txhr.open('GET', url, true);\n\t\txhr.send();\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState !== 4) return;\n\n\t\t\tif (xhr.status == 200) {\n\t\t\t\tlet data = xhr.responseText;\n\t\t\t\tif (tryToParse) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t\tcb(true, data);\n\t\t\t} else {\n\t\t\t\tif (isAPIRequest) {\n\t\t\t\t\twindow.showDialog('Server, where are you?', 'Tried to make request:\\n\\nGET ' + censoredURL + '\\n'+xhr.getAllResponseHeaders()+'\\n\\n'+xhr.statusText)\n\t\t\t\t}\n\n\t\t\t\tconsole.error('Bad HTTP Response: ' + xhr.statusCode + \" - \" + xhr.statusText);\n\t\t\t\tcb(false, xhr);\n\t\t\t}\n\n\t\t}\n\t},\n\tPOST: function (url, data, before, cb, tryToParse) {\n\t\tif (typeof data !== 'object') {\n\t\t\ttryToParse = cb || true;\n\t\t\tcb = before;\n\t\t\tbefore = data;\n\t\t}\n\t\tif (typeof tryToParse === 'undefined')\n\t\t\ttryToParse = true;\n\t\tlet xhr = new XMLHttpRequest();\n\t\tlet isAPIRequest = false;\n\t\tlet censoredURL = url;\n\t\tif (typeof data === 'object') {\n\t\t\tif (API.SERVER_HOST == null) {\n\t\t\t\tAPI.__query.push(['POST'].concat(Array.prototype.slice.apply(arguments)));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisAPIRequest = true;\n\n\t\t\tcensoredURL = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + (key=='token'||key=='password'?'<'+key+'>':encodeURIComponent(data[key]))).join('&');\n\t\t\turl = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + encodeURIComponent(data[key])).join('&');\n\t\t}\n\t\tconsole.log('[API] POST ' + url);\n\t\txhr.open('POST', url, true);\n\t\tbefore(xhr);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState !== 4) return;\n\n\t\t\tif (xhr.status == 200) {\n\t\t\t\tlet data = xhr.responseText;\n\t\t\t\tif (tryToParse) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t\tcb(true, data);\n\t\t\t} else {\n\t\t\t\tif (isAPIRequest) {\n\t\t\t\t\twindow.showDialog('Server, where are you?', 'Tried to make request:\\n\\nGET ' + censoredURL + '\\n'+xhr.getAllResponseHeaders()+'\\n\\n'+xhr.statusText)\n\t\t\t\t}\n\n\t\t\t\tconsole.error('Bad HTTP Response: ' + xhr.statusCode + \" - \" + xhr.statusText);\n\t\t\t\tcb(false, xhr);\n\t\t\t}\n\t\t}\n\t}\n};\nAPI.__init();\nwindow.API = API;\n\nexport default API;","const domain = 'bodjo.net';\nlet Storage = {\n\tdata: {},\n\tget: function (name) {\n\t\tlet o = null;\n\t\tif (getCookie(name)) {\n\t\t\to = getCookie(name);\n\t\t\tif (typeof localStorageGet(name) === 'undefined')\n\t\t\t\tlocalStorageSet(name, o);\n\t\t} else if (localStorageGet(name)) {\n\t\t\to = localStorageGet(name);\n\t\t\tsetCookie(name, o);\n\t\t\tsetCookie(name, o, {domain});\n\t\t}\n\t\tif (o != null) {\n\t\t\ttry {\n\t\t\t\to = JSON.parse(o)\n\t\t\t} catch (e) {}\n\t\t} else if (typeof Storage.data[name] !== 'undefined') {\n\t\t\treturn Storage.data[name];\n\t\t}\n\t\treturn o;\n\t},\n\tset: function (name, value) {\n\t\tlet v = JSON.stringify(value);\n\t\tlocalStorageSet(name, v);\n\t\tsetCookie(name, v);\n\t\tsetCookie(name, v, {domain});\n\t\tStorage.data[name] = value;\n\t},\n\tremove: function (name) {\n\t\tdeleteCookie(name);\n\t\tlocalStorage.removeItem(name);\n\t\tdelete Storage.data[name];\n\t}\n};\nwindow.Storage = Storage;\n\nfunction localStorageGet(name) {\n\ttry {\n\t\treturn localStorage.getItem(name);\n\t} catch (e) {\n\t\treturn null;\n\t}\n}\nfunction localStorageSet(name, value) {\n\ttry {\n\t\treturn localStorage.setItem(name, value);\n\t} catch (e) {\n\t\treturn null;\n\t}\n}\n\n// cookies (thanks to https://learn.javascript.ru/cookie)\nfunction getCookie(name) {\n  let matches = document.cookie.match(new RegExp(\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n  ));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\nfunction setCookie(name, value, options) {\n  options = {\n    path: '/',\n    ...options\n  }\n\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n\n  for (let optionKey in options) {\n    updatedCookie += \"; \" + optionKey;\n    let optionValue = options[optionKey];\n    if (optionValue !== true)\n      updatedCookie += \"=\" + optionValue;\n  }\n\n  document.cookie = updatedCookie;\n}\nfunction deleteCookie(name) {\n  setCookie(name, \"\", {\n    'max-age': -1\n  })\n}\n\n\nexport default Storage;","import API from './APIController';\nimport storage from './StorageController';\n\nconst strictSymbols = \"1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_-\";\n\nclass AccountController {\n\tconstructor() {\n\t\tthis.EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tthis.__listeners = {};\n\n\t\tthis.token = storage.get('bodjo-token');\n\t\tthis.username = storage.get('bodjo-username');\n\t\tthis.loading = false;\n\t\tthis.verified = false;\n\t\tif (this.token != null &&\n\t\t\ttypeof this.token === 'string') {\n\t\t\tthis.check();\n\t\t}\n\t}\n\ton(name, callback) {\n\t\tif (typeof this.__listeners[name] === 'undefined')\n\t\t\tthis.__listeners[name] = [];\n\t\tthis.__listeners[name].push(callback);\n\t}\n\temit(name) {\n\t\tif (typeof this.__listeners[name] === 'undefined')\n\t\t\treturn;\n\t\tlet args = Array.prototype.slice.apply(arguments).slice(1);\n\t\tfor (let listener of this.__listeners[name])\n\t\t\tlistener.apply(listener, args);\n\t}\n\n\tlogin(username, password, callback) {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tAPI.GET('/account/login', {username, password}, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (this.verified) {\n\t\t\t\tthis.token = data.token.value;\n\t\t\t\tthis.username = username;\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t\tcallback(this.verified, data.errParameter, data);\n\t\t});\n\t}\n\n\tregister(username, password, email, callback) {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tlet data = {username, password};\n\t\tif (typeof email !== 'undefined' &&\n\t\t\temail.length > 0)\n\t\t\tdata.email = email;\n\t\tAPI.GET('/account/register', data, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (this.verified) {\n\t\t\t\tthis.token = data.token.value;\n\t\t\t\tthis.username = data.token.username;\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t\tcallback(this.verified, data.errParameter, data);\n\t\t})\n\t}\n\tuploadImage(file, callback) {\n\t\tif (!this.verified)\n\t\t\treturn;\n\t\tconst exts = {\n\t\t\t'image/png': 'png',\n\t\t\t'image/jpeg': 'jpeg',\n\t\t\t'image/jpg': 'jpg',\n\t\t\t'image/gif': 'gif'\n\t\t};\n\n\t\tAPI.POST('/account/uploadImage', {\n\t\t\ttoken: this.token,\n\t\t\text: exts[file.type]\n\t\t}, (req) => {\n\t\t\t// req.setRequestHeader('Content-Type', 'multipart/form-data');\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append('image', file);\n\t\t\treq.send(formData)\n\t\t}, (status, data) => {\n\t\t\tcallback(status && data.status == 'ok', data);\n\t\t})\n\t}\n\n\tlogout() {\n\t\tif (this.token && this.verified) {\n\t\t\tthis.loading = true;\n\t\t\tAPI.GET('/account/logout', {token: this.token}, (status, data) => {\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.token = null;\n\t\t\t\tthis.verified = false;\n\t\t\t\tif (status && data.status == 'ok') {\n\t\t\t\t\tconsole.log('token removed successfully')\n\t\t\t\t}\n\n\t\t\t\tthis.emit('checked', this.verified);\n\t\t\t})\n\t\t}\n\n\t\tstorage.remove('bodjo-token');\n\t\tstorage.remove('bodjo-username');\n\t}\n\n\tedit(email, about, callback) {\n\t\tlet o = {token: this.token};\n\t\tif (email.length > 0) o.email = email;\n\t\tif (about.length > 0) o.about = about;\n\t\tAPI.GET('/account/edit', o, (status, data) => {\n\t\t\tcallback(status && data.status === 'ok');\n\t\t});\n\t}\n\n\tcheck() {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tAPI.GET('/account/check', {token: this.token}, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (data.token && data.token.username)\n\t\t\t\tthis.username = data.token.username;\n\n\t\t\tif (this.verified) {\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t});\n\t}\n}\nexport default (window.account = new AccountController());","import text from '../text.json';\r\n\r\nlet LanguageController = function (name) {\r\n\treturn text[LanguageController.lang][name];\r\n};\r\nLanguageController.langs = Object.keys(text);\r\n\r\nLanguageController.lang = \r\n\twindow.Storage.get('bodjo-lang') || \r\n\t(window.navigator.language.match(/^\\w+/)||['en'])[0].toLowerCase();\r\nif (LanguageController.langs.indexOf(LanguageController.lang) == -1)\r\n\tLanguageController.lang = LanguageController.langs[0];\r\nLanguageController.updateLang = function (newLang) {\r\n\tif (newLang == LanguageController.lang)\r\n\t\treturn;\r\n\tif (LanguageController.langs.indexOf(newLang) == -1)\r\n\t\treturn;\r\n\twindow.Storage.set('bodjo-lang', newLang);\r\n\tLanguageController.lang = newLang;\r\n\r\n\twindow.location.reload();\r\n}\r\n\r\nexport default (window.T = LanguageController);","import React from 'react';\nimport Link from './../../../Components/Link/Link';\nimport Button from './../../../Components/Button/Button';\nimport Loading from './../../../Components/Loading/Loading';\nimport API from './../../../Controllers/APIController';\nimport account from './../../../Controllers/AccountController';\nimport T from './../../../Controllers/LanguageController';\n\nimport './GamesList.css';\n\nclass GamesList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.gameServers = {};\n\t\tthis.state = {loading: true};\n\n\t\tlet self = this;\n\t\tfunction obtain(component, isMounted, data) {\n\t\t\tlet games = {};\n\t\t\tfor (let server of data.servers) {\n\t\t\t\tlet gameServer = \n\t\t\t\t\t\tself.gameServers[server.name] = \n\t\t\t\t\t\tnew GameServer(server, (info) => {\n\t\t\t\t\t\t\tlet o = {}; o[info.name] = info;\n\t\t\t\t\t\t\tself.setState(o);\n\t\t\t\t\t\t});\n\t\t\t\tgameServer.obtain();\n\t\t\t\tgames[server.name] = gameServer.info();\n\t\t\t}\n\t\t\tgames.loading = false;\n\t\t\tif (isMounted)\n\t\t\t\tcomponent.setState(games);\n\t\t\telse component.state = games;\n\t\t}\n\t\tif (window.__gamesListCache) {\n\t\t\tobtain(this, false, window.__gamesListCache);\n\t\t} else {\n\t\t\tlet roptions = {};\n\t\t\tif (account.token && account.verified)\n\t\t\t\troptions.token = account.token;\n\t\t\tAPI.GET('/games/info', roptions, (status, data) => {\n\t\t\t\tif (status && data.status === 'ok') {\n\t\t\t\t\tobtain(this, true, data);\n\t\t\t\t\twindow.__gamesListCache = data;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tfor (let serverName in this.gameServers)\n\t\t\tthis.gameServers[serverName].destroy();\n\t\tthis.state = {};\n\t}\n\n\tgo(name, link) {\n\t\t// API.GET('/games/join', {name: name, token: account.token}, (status, data) => {\n\t\t\t// if (status && data.status === 'ok')\n\t\t\t\t// window.location.href = link + '/#' + data.username + ':' + data.gameSessionToken;\n\t\t// });\n\t\twindow.location.href = link + '/#' + account.username + ':' + account.token;\n\t}\n\n\trender() {\n\t\tlet content = [];\n\n\t\tif (!this.state.loading) {\n\t\t\tlet games = {};\n\t\t\tfor (let serverName in this.state) {\n\t\t\t\tif (serverName == 'loading') continue;\n\t\t\t\tlet game = this.state[serverName].game;\n\t\t\t\tif (this.state[serverName].local && \n\t\t\t\t\tthis.state[serverName].status)\n\t\t\t\t\tgame = '_' + this.state[serverName].name;\n\t\t\t\tif (typeof games[game] === 'undefined')\n\t\t\t\t\tgames[game] = [];\n\t\t\t\tgames[game].push(this.state[serverName]);\n\t\t\t}\n\n\t\t\tfor (let gameName in games) {\n\t\t\t\tlet realGameName = (games[gameName][0]||{game:gameName}).game;\n\t\t\t\tlet serversContent = [];\n\t\t\t\tfor (let server of games[gameName]) {\n\t\t\t\t\t// console.log(server.spectateLink)\n\t\t\t\t\tserversContent.push(\n\t\t\t\t\t\t<div className=\"game-server\" key={server.name}>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<span className={'status ' + (server.status?'enabled':'disabled')} /> \n\t\t\t\t\t\t\t\t<span className=\"players-count\">{\n\t\t\t\t\t\t\t\t\tserver.status ? \n\t\t\t\t\t\t\t\t\t(<span>[{ server.local ? <i>local</i> : <span><b>{server.players.value}</b>/{server.players.max}</span> }]</span>) :\n\t\t\t\t\t\t\t\t\t(<span>[<b className=\"loading\"><span>-/|\\</span></b>]</span>)\n\t\t\t\t\t\t\t\t}</span>\n\t\t\t\t\t\t\t\t<span className=\"name\">{server.showName}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={\"go\"+(!account.verified?\" disabled\":\"\")}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{/*<span className=\"ping\">{(server.ping||0).toFixed(1)}ms</span>*/}\n\t\t\t\t\t\t\t\t\t<Button disabled={!server.status || !account.verified} onClick={this.go.bind(this, server.name, server.link)}>{ T('game_play') }</Button>\n\t\t\t\t\t\t\t\t\t<span className=\"label\">{T('game_shouldlogin1')} <Link to=\"/login/\">{ T('game_shouldlogin2') }</Link></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button invert disabled={!server.status} to={server.spectateLink}>{ T('game_spectate') }</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcontent.unshift(\n\t\t\t\t\t<div className={'game' + (gameName[0]=='_'?' event':'')} key={gameName} style={{backgroundImage: 'url(assets/games/'+realGameName+'/bg.png)'}}>\n\t\t\t\t\t\t<h3>{gameName[0] == '_' ? 'LIVE '+realGameName+' hackathon' : realGameName}</h3>\n\t\t\t\t\t\t{gameName[0] == '_' ? <div className=\"eventanim\"><span></span><span></span><span></span></div> : ''}\n\t\t\t\t\t\t{serversContent}\n\t\t\t\t\t\t<div className=\"grey\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (content.length == 0) {\n\t\t\tcontent.push(\n\t\t\t\t<div className=\"no-games\" key=\"no-games\">\n\t\t\t\t\t<h3>{window.randomFace()}</h3>\n\t\t\t\t\t<span> !  ?</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"section games\">\n\t\t\t\t<h2><img src='/assets/games.png' />{ window.T('tab_games') }</h2>\n\t\t\t\t{this.state.loading ? <Loading /> : content}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass GameServer {\n\tconstructor(info, onUpdate) {\n\t\tthis.onUpdate = onUpdate;\n\t\tthis.host = info.host;\n\t\tthis.apihost = info.apihost;\n\t\tthis.name = info.name;\n\t\tthis.game = info.game;\n\t\tthis.showName = (this.name.substring(0, this.game.length+1) == this.game+'-') ?\n\t\t\t\t\t\t this.name.substring(this.game.length+1) : this.name;\n\t\tthis.status = false;\n\t\tthis.link = info.host;\n\t\tif (this.link.indexOf('http:\\/\\/') < 0 &&\n\t\t\tthis.link.indexOf('https:\\/\\/') < 0)\n\t\t\tthis.link = 'http:\\/\\/' + this.link;\n\t\tthis.spectateLink = this.link + '/spectate';\n\t\tthis.loading = true;\n\n\t\tthis.local = this.apihost.length == 0;\n\n\t\t// this.pings = [];\n\t\t// this.pingValue = null;\n\n\t\tthis.players = {value: 0, max: 0}\n\t}\n\n\tupdate() {\n\t\tthis.onUpdate(this.info())\n\t}\n\n\tinfo() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tshowName: this.showName,\n\t\t\tgame: this.game,\n\t\t\thost: this.host,\n\t\t\tlink: this.link,\n\t\t\tlocal: this.local,\n\t\t\t// ping: this.pingValue,\n\t\t\tstatus: this.status,\n\t\t\tplayers: this.players,\n\t\t\tspectateLink: this.spectateLink\n\t\t};\n\t}\n\n\tdestroy() {\n\t\tif (this.pingTimeout)\n\t\t\tclearTimeout(this.pingTimeout);\n\t}\n\n\tobtain() {\n\t\tthis.loadInfo();\n\t\t// this.pingEach(10);\n\t}\n\n\tloadInfo(callback) {\n\t\tif (this.local) {\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.link + '/favicon.png';\n\t\t\timg.onload = () => {\n\t\t\t\tlet wasStatus = this.status;\n\t\t\t\tthis.status = true;\n\t\t\t\tif (wasStatus != this.status)\n\t\t\t\t\tthis.update();\n\t\t\t}\n\t\t} else {\n\t\t\tAPI.GET(this.apihost+'/status', (status, data) => {\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.players.value = data.playersCount;\n\t\t\t\t\tthis.players.max = data.maxPlayersCount;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.status = true;\n\t\t\t\t\tthis.update();\n\t\t\t\t} else {\n\t\t\t\t\tlet wasStatus = this.status;\n\t\t\t\t\tthis.status = false;\n\t\t\t\t\tif (wasStatus != this.status)\n\t\t\t\t\t\tthis.update();\n\t\t\t\t}\n\n\t\t\t\tif (typeof callback === 'function')\n\t\t\t\t\tcallback();\n\t\t\t});\n\t\t}\n\t}\n\t// ping (callback) {\n\t// \tlet start = Date.now();\n\t// \tAPI.GET(this.apihost+'/ping', (status, timestamp) => {\n\t// \t\tlet end = Date.now(), middle = parseInt(timestamp);\n\t// \t\tif (status && !isNaN(middle)) {\n\t// \t\t\tthis.pings.push(end-start);\n\t// \t\t\tthis.pingValue = this.pings.reduce((a,b)=>a+b) / this.pings.length;\n\t// \t\t\tthis.status = true;\n\t// \t\t\tthis.update();\n\t// \t\t} else {\n\t// \t\t\tlet wasStatus = this.status;\n\t// \t\t\tthis.status = false;\n\t// \t\t\tif (wasStatus != this.status)\n\t// \t\t\t\tthis.update();\n\t// \t\t}\n\n\t// \t\tif (typeof callback === 'function')\n\t// \t\t\tcallback();\n\t// \t}, false);\n\t// }\n\n\t// pingEach(n, i = 0) {\n\t// \tif (i == n)\n\t// \t\treturn;\n\n\t// \tthis.ping(() => {\n\t// \t\tthis.pingTimeout = setTimeout(this.pingEach.bind(this, n, i+1), 1000*i);\n\t// \t});\n\t// }\n}\n\nexport default GamesList;","import React from 'react';\nimport Loading from './../../../Components/Loading/Loading';\nimport Link from './../../../Components/Link/Link';\nimport API from './../../../Controllers/APIController';\nimport './NewsList.css';\n\nconst pagesCount = 2;\n\nclass NewsList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {news: [], newsTotal: 0, loading: true};\n\n\t\tfunction obtain(component, isMounted, data) {\n\t\t\tfunction more(page) {\n\t\t\t\treturn '<span class=\"closer\"></span><a class=\"link more\" href=\"https://pages.bodjo.net/'+page.id+'\">'+window.T('news_moreinfo')+'</a>';\n\t\t\t}\n\t\t\tlet news = data.pages;\n\t\t\tfor (let newsPiece of news)\n\t\t\t\tnewsPiece.html = window.parseBodjoPage(newsPiece.preview) + more(newsPiece);\n\t\t\tlet newState = {\n\t\t\t\tnews: news,\n\t\t\t\tnewsTotal: data.total,\n\t\t\t\tloading: false\n\t\t\t};\n\t\t\tif (isMounted)\n\t\t\t\tcomponent.setState(newState);\n\t\t\telse component.state = newState;\n\t\t}\n\n\t\tif (window.__newsListCache) {\n\t\t\tobtain(this, false, window.__newsListCache)\n\t\t} else {\t\n\t\t\tAPI.GET('/pages/search', {q: 'news.', lang: window.T.lang, preview: 1, order: false, count: pagesCount}, (status, data) => {\n\t\t\t\tif (status && data.status === 'ok') {\n\t\t\t\t\tobtain(this, true, data);\n\t\t\t\t\twindow.__newsListCache = data;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"section news\">\n\t\t\t\t<h2><img src='/assets/news.png' />{ window.T('tab_news') }</h2>\n\t\t\t\t{this.state.loading ? <Loading /> :\n\t\t\t\t\t[\n\t\t\t\t\t\tthis.state.news.map(page => <div key={page.id} className='news-piece bodjo-page' dangerouslySetInnerHTML={{__html:page.html}}></div>),\n\t\t\t\t\t\t(this.state.newsTotal > pagesCount ? <Link to=\"/news/\">{ window.T('news_morenews') }</Link> : '')\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default NewsList;","import React from 'react';\nimport GamesList from './GamesList/GamesList';\nimport NewsList from './NewsList/NewsList';\nimport T from '../../Controllers/LanguageController';\nimport './Index.css';\n\nclass IndexPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\n\trender() {\n\t\tsetTimeout(window.loadBodjoPage.bind(null, 'main.about.' + T.lang, '#index .whatisit', {\n\t\t\tsignature: false,\n\t\t\tcache: true\n\t\t}), 1);\n\n\n\t\treturn (\n\t\t\t<div id=\"index\">\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<div className=\"section whatisit\"></div>\n\t\t\t\t\t<GamesList />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right\">\n\t\t\t\t\t<NewsList />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default IndexPage;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Input.css';\n\nclass Input extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hasError = false;\n\t}\n\tvalue() {\n\t\tlet input = ReactDOM.findDOMNode(this);\n\t\treturn input.value;\n\t}\n\terror() {\n\t\tlet input = ReactDOM.findDOMNode(this);\n\t\tif (this.hasError)\n\t\t\treturn;\n\n\t\tthis.hasError = true;\n\t\tinput.className = (this.props.className||'') + ' error';\n\t\tsetTimeout(() => {\n\t\t\tinput.className = (this.props.className||'');\n\t\t\tthis.hasError = false;\n\t\t}, 500);\n\t}\n\trender() {\n\t\treturn <input\n\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tclassName={this.props.className}\n\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\tonKeyUp={this.props.onKeyUp}\n\t\t\t\t\tdefaultValue={this.props.value}\n\t\t\t\t/>;\n\t}\n}\n\nexport default Input;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport Input from './../../Components/Input/Input';\nimport Button from './../../Components/Button/Button';\nimport { Redirect } from \"react-router-dom\";\n\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\n\nimport './LoginPage.css';\n\nclass LoginPage extends React.Component {\n\tconstructor(props){ \n\t\tsuper(props);\n\n\t\tthis.usernameInput = React.createRef();\n\t\tthis.passwordInput = React.createRef();\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\tonSubmit() {\n\t\tlet username = this.usernameInput.current.value();\n\t\tlet password = this.passwordInput.current.value();\n\n\t\tif (username.length == 0)\n\t\t\tthis.usernameInput.current.error();\n\t\tif (password.length == 0)\n\t\t\tthis.passwordInput.current.error();\n\n\t\tif (username.length > 0 &&\n\t\t\tpassword.length > 0) {\n\t\t\taccount.login(username, password, (status, errParameter, data) => {\n\t\t\t\tif (errParameter === 'username' || (data.status == 'fail' && data.errCode == 1))\n\t\t\t\t\tthis.usernameInput.current.error();\n\t\t\t\tif (errParameter === 'password' || (data.status == 'fail' && data.errCode == 1))\n\t\t\t\t\tthis.passwordInput.current.error();\n\t\t\t});\n\t\t}\n\t}\n\n\trender () {\n\t\tif (account.verified) {\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\n\t\treturn (\n\t\t\t<div id='login-page-wrapper'>\n\t\t\t\t<div id='login-page'> \n\t\t\t\t\t<h3>{ T('login_header') }</h3>\n\t\t\t\t\t<div className='inputs'>\n\t\t\t\t\t\t<Input ref={this.usernameInput} placeholder={ T('login_username_placeholder') } type=\"text\" className='username' />\n\t\t\t\t\t\t<Input ref={this.passwordInput} placeholder={ T('login_password_placeholder') } type=\"password\" className='password' />\n\t\t\t\t\t</div>\n\t\t\t\t\t{account.loading ? \n\t\t\t\t\t\t<Loading inline /> :\n\t\t\t\t\t\t<Button enter invert onClick={this.onSubmit.bind(this)}>{ T('login_submit') }</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginPage;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport Input from './../../Components/Input/Input';\nimport Button from './../../Components/Button/Button';\nimport { Redirect } from \"react-router-dom\";\n\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\n\nimport './RegisterPage.css';\n\nclass RegisterPage extends React.Component {\n\tconstructor(props){ \n\t\tsuper(props);\n\n\t\tthis.usernameInput = React.createRef();\n\t\tthis.passwordInput = React.createRef();\n\t\tthis.repeatPasswordInput = React.createRef();\n\t\tthis.emailInput = React.createRef();\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\tonSubmit() {\n\t\tlet username = this.usernameInput.current.value();\n\t\tlet password = this.passwordInput.current.value();\n\t\tlet passwordRepeat = this.repeatPasswordInput.current.value()\n\t\tlet email = this.emailInput.current.value();\n\n\t\tif (username.length < 3 || username.length > 15 || /^bot.+$/g.test(username))\n\t\t\tthis.usernameInput.current.error();\n\t\telse if (password.length < 6 || password.length > 100)\n\t\t\tthis.passwordInput.current.error();\n\t\telse if (password !== passwordRepeat) {\n\t\t\tthis.passwordInput.current.error();\n\t\t\tthis.repeatPasswordInput.current.error();\n\t\t} else if (email.length > 0 && !account.EMAIL_REGEX.test(email))\n\t\t\tthis.emailInput.current.error();\n\t\telse {\n\t\t\taccount.register(username, password, email, (status, errParameter) => {\n\t\t\t\tif (errParameter === 'username')\n\t\t\t\t\tthis.usernameInput.current.error();\n\t\t\t\tif (errParameter === 'password')\n\t\t\t\t\tthis.passwordInput.current.error();\n\t\t\t\tif (errParameter === 'email')\n\t\t\t\t\tthis.emailInput.current.error();\n\t\t\t});\n\t\t}\n\t}\n\n\trender () {\n\t\tif (account.verified) {\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\n\t\treturn (\n\t\t\t<div id='register-page-wrapper'>\n\t\t\t\t<div id='register-page'> \n\t\t\t\t\t<h3>{ T('register_header') }</h3>\n\t\t\t\t\t<div className='inputs'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Input ref={this.usernameInput} placeholder={ T('register_username_placeholder') } type=\"text\" className='username' />\n\t\t\t\t\t\t\t<span dangerouslySetInnerHTML={ {__html: T('register_username_rules') } } ></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Input ref={this.passwordInput} placeholder={ T('register_password_placeholder') } type=\"password\" className='password' />\n\t\t\t\t\t\t\t\t<Input ref={this.repeatPasswordInput} placeholder={ T('register_password_repeat_placeholder') } type=\"password\" className='password-repeat' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span dangerouslySetInnerHTML={ {__html: T('register_password_rules') } } ></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Input ref={this.emailInput} placeholder={ T('register_email_placeholder') } type=\"text\" className='email' />\n\t\t\t\t\t\t\t<span dangerouslySetInnerHTML={ {__html: T('register_email_rules') } } ></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{account.loading ? \n\t\t\t\t\t\t<Loading inline /> :\n\t\t\t\t\t\t<Button enter invert onClick={this.onSubmit.bind(this)}>{ T('register_submit') }</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RegisterPage;","import API from './APIController';\n\nlet UserInfo = window.UserInfo = {\n\tcache: {},\n\t__query: [],\n\t__callbacks: [],\n\t__lastQueryAppend: 0,\n\tload: function (username, callback) {\n\t\tif (UserInfo.cache[username]) {\n\t\t\tcallback(UserInfo.cache[username]);\n\t\t\treturn;\n\t\t}\n\n\t\tlet i = UserInfo.__query.length;\n\t\tUserInfo.__query.push(username);\n\t\tUserInfo.__callbacks.push(callback);\n\t\tlet lastQueryAppend = UserInfo.__lastQueryAppend = Date.now();\n\t\tsetTimeout(function () {\n\t\t\tif (lastQueryAppend == UserInfo.__lastQueryAppend &&\n\t\t\t\tUserInfo.__query.length > 0) {\n\n\t\t\t\tAPI.GET('/account/info', {usernames: UserInfo.__query}, (status, data) => {\n\t\t\t\t\tfor (let _username in data.result) {\n\t\t\t\t\t\tUserInfo.cache[_username] = data.result[_username];\n\t\t\t\t\t\tif (username == _username)\n\t\t\t\t\t\t\tcallback(UserInfo.cache[_username]);\n\t\t\t\t\t}\n\n\t\t\t\t\tUserInfo.__query = [];\n\t\t\t\t});\n\t\t\t}\n\t\t}, 50);\n\t},\n\tmy: function (token, callback) {\n\t\tAPI.GET('/account/info', {token}, (status, data) => {\n\t\t\tif (status && data.status === 'ok' && data.result.length > 0) {\n\t\t\t\tcallback(data.result[0]);\n\t\t\t}\n\t\t});\n\t}\n}\n\n// if (localStorage.UserInfo) {\n// \tUserInfo.cache = JSON.parse(localStorage.UserInfo);\n// }\n\nexport default UserInfo;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Textarea.css';\n\nclass Textarea extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hasError = false;\n\t}\n\tvalue() {\n\t\tlet textarea = ReactDOM.findDOMNode(this).querySelector('textarea');\n\t\treturn textarea.value;\n\t}\n\terror() {\n\t\tif (this.hasError)\n\t\t\treturn;\n\t\tthis.hasError = true;\n\n\t\tlet textarea = ReactDOM.findDOMNode(this).querySelector('textarea');\n\t\ttextarea.className = (this.props.className||'') + ' error';\n\t\tsetTimeout(() => {\n\t\t\ttextarea.className = (this.props.className||'');\n\t\t\tthis.hasError = false;\n\t\t}, 500);\n\t}\n\tonKeyUp(event) {\n\t\tif (this.props.onKeyUp)\n\t\t\tthis.props.onKeyUp(event);\n\n\t\tlet rootdiv = ReactDOM.findDOMNode(this);\n\t\tlet textarea = rootdiv.querySelector('textarea');\n\t\tlet span = rootdiv.querySelector('span');\n\t\tif (this.props.max) {\n\t\t\tspan.innerText = textarea.value.length+' ('+this.props.max+')';\n\t\t\tspan.className = (this.props.max < textarea.value.length) ? 'error' : '';\n\t\t} else\n\t\t\tspan.innerText = textarea.value.length;\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className='textarea'>\n\t\t\t \t<textarea\n\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tclassName={this.props.className}\n\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\t\t\tdefaultValue={this.props.value}\n\t\t\t\t></textarea>\n\t\t\t\t<span>{(this.props.value||'').length + (this.props.max ? ' ('+this.props.max+')' : '')}</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Textarea;","import React from 'react';\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\nimport UserInfo from './../../Controllers/UserInfoController';\nimport Textarea from './../../Components/Textarea/Textarea';\nimport Input from './../../Components/Input/Input';\nimport Button from './../../Components/Button/Button';\nimport Loading from './../../Components/Loading/Loading';\nimport {Redirect} from \"react-router-dom\";\n\nimport './MyAccount.css';\n\nfunction range(x, min, max) {\n\treturn Math.min(Math.max(x, min), max);\n}\nfunction digit(x) {\n\tif (x < 20)\n\t\treturn x;\n\tlet b = x % 10, a = (x-b)/10%10; // x = xxxxxab; (ex. 923912; b=2, a=1) \n\tif (a >= 2 && b > 0)\n\t\treturn b;\n\treturn x;\n}\n\nclass MyAccountPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.submitButton = React.createRef();\n\t\tthis.aboutInput = React.createRef();\n\t\tthis.emailInput = React.createRef();\n\n\t\tthis.state = {loading: true, info: null};\n\t\tthis._ismounted = false;\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t\tUserInfo.my(account.token, (info) => {\n\t\t\tlet newState = {loading: false, info};\n\t\t\tif (this._ismounted)\n\t\t\t\tthis.setState(newState);\n\t\t\telse this.state = newState;\n\t\t});\n\t}\n\n\tcomponentDidMount() { \n\t\tthis._ismounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._ismounted = false;\n\t}\n\n\thandleLogout() {\n\t\taccount.logout();\n\t}\n\thandleEdit() {\n\t\tlet email = this.emailInput.current.value();\n\t\tlet about = this.aboutInput.current.value();\n\n\t\tif (email.length > 0 && !account.EMAIL_REGEX.test(email))\n\t\t\tthis.emailInput.current.error();\n\t\telse if (about.length > 250)\n\t\t\tthis.aboutInput.current.error();\n\t\telse {\n\t\t\taccount.edit(email, about, () => {\n\t\t\t\tlet info = this.state.info;\n\t\t\t\tinfo.email = email;\n\t\t\t\tinfo.about = about;\n\t\t\t\tthis.setState({info});\n\t\t\t\tthis.update();\n\t\t\t})\n\t\t}\n\t}\n\thandleImageUpload(e) {\n\t\te.persist()\n\t\tlet input = e.target;\n\t\tlet file = input.files[0];\n\t\tif (typeof file !== 'object')\n\t\t\treturn;\n\n\t\taccount.uploadImage(file, (status, data) => {\n\t\t\tif (status && data.status == 'ok') {\n\t\t\t\tlet info = this.state.info;\n\t\t\t\tinfo.image = data;\n\t\t\t\tthis.setState({imaget: Date.now(), info});\n\t\t\t} else {\n\t\t\t\talert(data.errText);\n\t\t\t}\n\t\t});\n\t}\n\tupdate() {\n\t\tthis.submitButton.current.setState({disabled: (\n\t\t\tthis.aboutInput.current.value() == this.state.info.about &&\n\t\t\tthis.emailInput.current.value() == this.state.info.email\n\t\t)});\n\t}\n\tgetTimeString() {\n\t\tlet timeSpent = Date.now() - this.state.info['registration-time'];\n\t\tlet timeString = '';\n\t\tlet timeRanges = T('myaccount_usertime_ranges');\n\t\tlet countLastNumber = T('myaccount_usertime_ranges_countlastnumber');\n\t\tfor (let d = timeSpent, i = 0; i < timeRanges.length; ++i) {\n\t\t\tlet v = Math.floor(d / timeRanges[i].value);\n\t\t\tif (v < 1) continue;\n\t\t\ttimeString += v + ' ' + timeRanges[i].string[range(countLastNumber ? digit(v) : v, 1, timeRanges[i].string.length)-1] + ' ';\n\t\t\td -= v * timeRanges[i].value;\n\t\t}\n\t\treturn timeString;\n\t}\n\trender() {\n\t\tif (!account.loading && (!account.verified || !account.token))\n\t\t\treturn <Redirect to=\"/login/\" />;\n\n\t\tif (account.loading || this.state.loading)\n\t\t\treturn <Loading />;\n\n\t\tlet timeString = this.timeString || (this.timeString = this.getTimeString());\n\n\t\treturn (\n\t\t\t<div id=\"my-account-wrapper\">\n\t\t\t\t<div id=\"my-account\">\n\t\t\t\t\t<span id=\"user-image\" style={{backgroundImage:'url('+this.state.info.image[128]+(this.state.imaget?'?'+this.state.imaget:'')+')'}}>\n\t\t\t\t\t\t<span className=\"upload\"></span>\n\t\t\t\t\t\t<input onChange={this.handleImageUpload.bind(this)} type='file' accept='.png,.jpg,.jpeg,.gif' />\n\t\t\t\t\t</span>\n\t\t\t\t\t<div id=\"user-info\">\n\t\t\t\t\t\t<h1>{this.state.info.username}</h1>\n\t\t\t\t\t\t<p id=\"user-time\">{T('myaccount_usertime')}{timeString}</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Input ref={this.emailInput} onKeyUp={this.update.bind(this)} onChange={this.update.bind(this)} type='text' placeholder={T('myaccount_email_placeholder')} value={this.state.info.email} />\n\t\t\t\t\t\t<Textarea ref={this.aboutInput} onKeyUp={this.update.bind(this)} onChange={this.update.bind(this)} type='text' placeholder={T('myaccount_bio_placeholder')} value={this.state.info.about} max={250} />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button disabled ref={this.submitButton} enter onClick={this.handleEdit.bind(this)}>{T('myaccount_change')}</Button>\n\t\t\t\t\t\t<span className='space' />\n\t\t\t\t\t\t<Button invert onClick={this.handleLogout}>{T('myaccount_logout')}</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default MyAccountPage;","import React from 'react';\r\nimport './Face.css';\r\n\r\nwindow.faces = [\r\n  \"\\\\(o_o)/\",\r\n  \"()\",\r\n  \"( \",\r\n  \"(`)\",\r\n  \"(  _ )\",\r\n  \"_\",\r\n  \"(_o)/\",\r\n  \"\\\\_()_/\",\r\n  \"\",\r\n  \"( )\",\r\n  \"( .-. )\",\r\n  \"( .o.)\"\r\n];\r\n\r\nexport default (window.randomFace = function (type) {\r\n\tif (typeof type !== 'string')\r\n\t\ttype = 'react';\r\n\tlet text = window.faces[Math.round(Math.random()*(window.faces.length-1))];\r\n\r\n\tif (type == 'react') {\r\n\t\tlet spans = [];\r\n\t\tfor (let i = 0; i < text.length; ++i) {\r\n\t\t\tspans.push(<span style={{animationDelay: (i / 3) % 1 + 's'}}>{text[i]}</span>)\r\n\t\t}\r\n\t\treturn <div className=\"face\">{spans}</div>;\r\n\t} else {\r\n\t\tlet h = '<div class=\"face\">';\r\n\t\tfor (let i = 0; i < text.length; ++i)\r\n\t\t\th += '<span style=\"animation-delay: ' + ((i / 3) % 1) + 's\">' + text[i] + '</span>';\r\n\t\treturn h + '</div>';\r\n\t}\r\n});","import React from 'react';\nimport T from '../../Controllers/LanguageController';\nimport RandomFace from '../../Components/Face/Face';\nimport './News.css';\n\nclass NewsPage extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id='news'>\n\t\t\t\t<b><RandomFace /></b>\n\t\t\t\t<p>{T('news_missing')}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewsPage;","import React from 'react';\nimport T from '../../Controllers/LanguageController';\nimport RandomFace from '../../Components/Face/Face';\nimport './Scoreboard.css';\n\nclass ScoreboardPage extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"scoreboard\">\n\t\t\t\t<b><RandomFace /></b>\n\t\t\t\t<p>{T('scoreboard_missing')}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ScoreboardPage;","import React from 'react';\nimport Link from './../../Components/Link/Link';\nimport UserInfo from './../../Controllers/UserInfoController';\nimport './User.css';\n\nclass User extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {loading: true, info: null};\n\t\tUserInfo.load(this.props.username, info => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tinfo\n\t\t\t});\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={'user'+(this.state.loading?' loading':'')}>\n\t\t\t\t<span \n\t\t\t\t\tclassName='image'\n\t\t\t\t\tstyle={{backgroundImage: (this.state.info ? 'url('+this.state.info.image[64]+')' : '')}}>\n\t\t\t\t</span>\n\t\t\t\t{this.props.me ? \n\t\t\t\t\t<Link to=\"/my-account/\" className='username'>{this.props.username}</Link> : \n\t\t\t\t\t<span className='username'>{this.props.username}</span>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default User;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport User from './../../Components/User/User';\nimport Link from './../../Components/Link/Link';\nimport account from './../../Controllers/AccountController';\n\nclass Auth extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\trender() {\n\t\tif (account.loading)\n\t\t\treturn <Loading />\n\n\t\tif (account.token && account.username && account.verified) {\n\t\t\treturn <User me username={account.username} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Link to=\"/login/\">{ window.T('menu_login') }</Link> <span>/</span> <Link to=\"/register/\">{ window.T('menu_register') }</Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Auth;","import React from 'react';\nimport Link from './../../Components/Link/Link';\nimport Auth from './Auth';\nimport './Header.css';\n\nexport default function Header() {\n\treturn (\n\t\t<div id=\"header\">\n\t\t\t<div id=\"title\">bodjo<Link className='version' to={'https://pages.bodjo.net/main.devstatus.' + window.T.lang}>v2.1</Link></div>\n\t\t\t<div id=\"auth\">\n\t\t\t\t<Auth></Auth>\n\t\t\t</div>\n\t\t\t<div id=\"menu\">\n\t\t\t\t<Link to=\"/\">{ window.T('menu_main') }</Link>\n\t\t\t\t{/*<Link to=\"/about/\"> bodjo</Link>*/}\n\t\t\t\t<Link to=\"/news/\">{ window.T('menu_news') }</Link>\n\t\t\t\t<Link to=\"/scoreboard/\">{ window.T('menu_scoreboard') }</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import React from 'react';\nimport Link from '../../Components/Link/Link';\nimport './Footer.css';\n\nexport default function Footer() {\n\tlet langs = [];\n\tfor (let i = 0; i < window.T.langs.length; ++i) {\n\t\tlet lang = window.T.langs[i];\n\t\tlangs.push(<a className={\"link \" + (window.T.lang == lang ? \"active\" : \"\")}\n\t\t\t\t\t  onClick={window.T.updateLang.bind(null, lang)}>\n\t\t\t\t\t\t{ lang.toUpperCase() }\n\t\t\t\t\t</a>);\n\t\tif (i < window.T.langs.length - 1)\n\t\t\tlangs.push(\" / \");\n\t}\n\n\treturn (\n\t\t<div id=\"footer\">\n\t\t\t<div className=\"contacts\">\n\t\t\t\tTelegram: <a href=\"https://t.me/dkaraush\">@dkaraush</a><br />\n\t\t\t\tE-mail: <a href=\"mailto://dkaraush@gmail.com\">dkaraush@gmail.com</a>\n\t\t\t</div>\n\t\t\t<div className=\"lang\">\n\t\t\t\t{langs}\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport Index from './Pages/Index/Index';\nimport LoginPage from './Pages/LoginPage/LoginPage';\nimport RegisterPage from './Pages/RegisterPage/RegisterPage';\nimport MyAccountPage from './Pages/MyAccount/MyAccount';\nimport NewsPage from './Pages/News/News';\nimport ScoreboardPage from './Pages/Scoreboard/Scoreboard';\n\nimport Header from './Parts/Header/Header';\nimport Footer from './Parts/Footer/Footer';\n\nfunction App() {\n  return (\n    <Router>\n      <Header></Header>\n      <div id=\"main\">\n        <Route path=\"/\" exact component={Index} />\n        <Route path=\"/news/\" component={NewsPage} />\n        <Route path=\"/scoreboard/\" component={ScoreboardPage} />\n        <Route path=\"/login/\" component={LoginPage} />\n        <Route path=\"/register/\" component={RegisterPage} />\n        <Route path=\"/my-account/\" component={MyAccountPage} />\n      </div>\n      <Footer></Footer>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"./Controllers/LanguageController.js\";\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// window.onerror = alert;"],"sourceRoot":""}