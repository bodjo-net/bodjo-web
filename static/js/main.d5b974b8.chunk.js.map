{"version":3,"sources":["Components/Link/Link.jsx","Components/Button/Button.jsx","Components/Loading/Loading.jsx","Components/Face/Face.jsx","Controllers/DialogController.js","Controllers/APIController.js","Controllers/StorageController.js","Controllers/AccountController.js","Controllers/LanguageController.js","Pages/Index/GamesList/GamesList.jsx","Pages/Index/NewsList/NewsList.jsx","Pages/Index/Index.jsx","Components/Input/Input.jsx","Controllers/SocialController.jsx","Components/SocialButton/SocialButton.jsx","Pages/LoginPage/LoginPage.jsx","Components/Textarea/Textarea.jsx","Pages/RegisterPage/RegisterPage.jsx","Controllers/UserInfoController.js","Pages/MyAccount/MyAccount.jsx","Pages/News/News.jsx","Pages/Scoreboard/Scoreboard.jsx","Pages/NotFound.jsx","Components/User/User.jsx","Parts/Header/Auth.jsx","Parts/Header/Header.jsx","Parts/Footer/Footer.jsx","App.jsx","index.js"],"names":["links","_Link","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","__to","to","Array","isArray","push","assertThisInitialized","_this2","index","findIndex","link","splice","current","window","location","pathname","dest","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","forceUpdate","err","indexOf","react_default","a","createElement","href","className","children","react_router_dom","onClick","bind","React","Component","Button","enterHandler","onEnter","state","disabled","element","event","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","R","Math","max","sqrt","pow","width","height","ripple","document","style","position","transition","borderRadius","opacity","id","Date","now","setTimeout","append","ripples","querySelectorAll","_loop","i","start","parseInt","substring","remove","length","ReactDOM","findDOMNode","overflow","down","_down","up","_up","addEventListener","body","enter","removeEventListener","nextProps","setState","keyCode","ctrlKey","metaKey","invert","redirect","Loading_Loading","inline","faces","randomFace","type","text","round","random","spans","key","animationDelay","h","zindex","showDialog","header","content","code","dialog","zIndex","dialogContent","h1","innerHTML","appendChild","h2","innerText","p","pre","API","SERVER_HOST","__query","__init","GET","status","hostname","forEach","args","apply","slice","url","data","cb","tryToParse","xhr","XMLHttpRequest","isAPIRequest","censoredURL","concat","prototype","arguments","keys","map","encodeURIComponent","join","console","log","open","send","onreadystatechange","readyState","responseText","JSON","parse","e","getAllResponseHeaders","statusText","error","statusCode","POST","before","Storage","get","name","o","getCookie","localStorageGet","localStorageSet","setCookie","domain","set","v","stringify","max-age","deleteCookie","localStorage","removeItem","getItem","setItem","matches","cookie","match","RegExp","replace","decodeURIComponent","options","objectSpread","path","updatedCookie","optionKey","optionValue","AccountController","EMAIL_REGEX","__listeners","token","storage","username","loading","verified","check","callback","listener","emit","password","errParameter","hash","email","about","file","ext","image/png","image/jpeg","image/jpg","image/gif","req","formData","FormData","_this3","_this4","account","LanguageController","lang","langs","navigator","language","toLowerCase","updateLang","newLang","reload","T","GamesList","gameServers","self","obtain","component","isMounted","games","servers","server","gameServer","GameServer","info","__gamesListCache","roptions","serverName","destroy","game","local","gameName","realGameName","serversContent","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","players","showName","Components_Button_Button","go","Components_Link_Link","spectateLink","unshift","backgroundImage","src","onUpdate","host","apihost","pingTimeout","clearTimeout","loadInfo","img","Image","onload","wasStatus","update","playersCount","maxPlayersCount","pagesCount","NewsList","news","pages","newsPiece","html","parseBodjoPage","preview","newState","newsTotal","total","__newsListCache","q","order","count","page","dangerouslySetInnerHTML","__html","IndexPage","loadBodjoPage","signature","cache","Index_GamesList_GamesList","Index_NewsList_NewsList","Input","hasError","input","placeholder","onChange","onKeyUp","defaultValue","settings","github","client_id","scope","discord","response_type","prompt","google","access_type","queryString","obj","socials","SocialController","provider","SocialControllerProvider","socialname","purpose","redirect_uri","assign","query","str","split","param","queryObject","_redirect","_error","social","putVerifiedToken","recommendedInfo","msg","react_router","colors","SocialButton","string","bgColor","invertColor","backgroundColor","toUpperCase","LoginPage","usernameInput","createRef","passwordInput","on","loginByPassword","errCode","arr","el","arrayPutBetween","Components_SocialButton_SocialButton","Components_Input_Input","ref","onSubmit","Textarea","querySelector","textarea","rootdiv","span","RegisterPage","inited","aboutInput","emailInput","test","register","Components_Textarea_Textarea","UserInfo","__callbacks","__lastQueryAppend","load","lastQueryAppend","usernames","_username","result","my","digit","b","MyAccountPage","submitButton","_ismounted","logout","edit","persist","target","files","uploadImage","image","imaget","alert","errText","min","timeSpent","timeString","timeRanges","countLastNumber","d","floor","getTimeString","handleImageUpload","accept","handleEdit","handleLogout","NewsPage","Face_Face","ScoreboardPage","NotFound","maxWidth","margin","color","User","me","Auth","Components_User_User","Header","Header_Auth","Footer","App","Header_Header","exact","Index","NotFoundPage","Footer_Footer","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.d5b974b8.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport './Link.css';\n\nlet links = {}\nclass _Link extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.__to = props.to;\n\t\tif (!Array.isArray(links[props.to]))\n\t\t\tlinks[props.to] = [];\n\t\tlinks[props.to].push(this);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tlet index = links[this.props.to].findIndex(link => link === this);\n\t\tif (index >= 0)\n\t\t\tlinks[this.props.to].splice(index, 1);\n\t}\n\n\tonClick(to) {\n\t\tlet current = window.location.pathname;\n\t\tfor (let dest in links) {\n\t\t\tif (dest === current || dest === to) {\n\t\t\t\tfor (let link of links[dest])\n\t\t\t\t\tlink.forceUpdate();\n\t\t\t}\n\t\t}\n\t\tthis.__to = to;\n\t}\n\n\trender() {\n\t\tif (this.props.to.indexOf('//') === 0 ||\n\t\t\tthis.props.to.indexOf('http://') === 0 ||\n\t\t\tthis.props.to.indexOf('https://') === 0)\n\t\t\treturn <a href={this.props.to} className={(this.props.className||'')+' link'}>{this.props.children}</a>;\n\n\t\treturn <Link \n\t\t\t\t\tto={this.props.to} \n\t\t\t\t\tonClick={this.onClick.bind(this, this.props.to)}\n\t\t\t\t\tclassName={'link '+(this.props.className||'')+\n\t\t\t\t\t\t\t   ((window.location.pathname === this.props.to ||\n\t\t\t\t\t\t\t\t window.location.pathname === this.__to) ? ' active' : '')}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Link>;\n\t}\n}\n\nexport default _Link;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Button.css';\n\nclass Button extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.enterHandler = this.onEnter.bind(this);\n\t\tthis.state = {\n\t\t\tdisabled: props.disabled\n\t\t};\n\t}\n\t\n\t_down(element, event) {\n\t\tif (this.state.disabled)\n\t\t\treturn;\n\t\tlet rect = element.getBoundingClientRect();\n\t\tlet x = (event.clientX - rect.left), y = (event.clientY - rect.top);\n\t\tlet R = Math.max(\n\t\t\t\t\tMath.sqrt(Math.pow(x, 2) + Math.pow(y, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x-rect.width, 2) + Math.pow(y, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x, 2) + Math.pow(y-rect.height, 2)),\n\t\t\t\t\tMath.sqrt(Math.pow(x-rect.width, 2) + Math.pow(y-rect.height, 2))\n\t\t\t\t);\n\n\t\tlet ripple = document.createElement('div');\n\t\tripple.className = 'ripple';\n\t\tripple.style.position = 'absolute';\n\t\tripple.style.transition = 'all 0.25s cubic-bezier(0.215, 0.61, 0.355, 1)';\n\t\tripple.style.borderRadius = '50%';\n\t\tripple.style.opacity = '1';\n\t\tripple.style.top = y + \"px\";\n\t\tripple.style.left = x + \"px\";\n\t\tripple.style.width = ripple.style.height = '0px';\n\t\tripple.id = 's' + Date.now();\n\t\tsetTimeout(function () {\n\t\t\tripple.style.opacity = '0.75';\n\t\t\tripple.style.top = (y-R) + \"px\";\n\t\t\tripple.style.left = (x-R) + \"px\";\n\t\t\tripple.style.width = ripple.style.height = R*2 + 'px';\n\t\t}, 10);\n\n\t\telement.append(ripple);\n\t}\n\t_up(element, event) {\n\t\tlet ripples = element.querySelectorAll('.ripple');\n\t\tif (ripples == null)\n\t\t\treturn;\n\n\t\tfor (let i = 0; i < ripples.length; ++i) {\n\t\t\tlet ripple = ripples[i];\n\t\t\tlet start = parseInt(ripple.id.substring(1));\n\t\t\tif (Date.now() - start > 250) {\n\t\t\t\tripple.style.opacity = '0';\n\t\t\t\tsetTimeout(ripple.remove.bind(ripple), 250);\n\t\t\t} else {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tripple.style.opacity = '0';\n\t\t\t\t\tsetTimeout(ripple.remove.bind(ripple), 250);\n\t\t\t\t}, 250 - (Date.now() - start))\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet element = ReactDOM.findDOMNode(this);\n\t\telement.style.position = 'relative';\n\t\telement.style.overflow = 'hidden';\n\n\t\tthis.down = this._down.bind(this, element);\n\t\tthis.up = this._up.bind(this, element);\n\t\telement.addEventListener('mousedown', this.down);\n\t\tdocument.body.addEventListener('mouseup', this.up);\n\t}\n\tcomponentWillMount() {\n\t\tif (this.props.enter)\n\t\t\twindow.addEventListener('keyup', this.enterHandler);\n\t}\n\tcomponentWillUnmount() {\n\t\tif (this.props.enter)\n\t\t\twindow.removeEventListener('keyup', this.enterHandler);\n\n\t\tdocument.body.removeEventListener('mouseup', this.up);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.disabled !== this.state.disabled)\n\t\t\tthis.setState({ disabled: nextProps.disabled });\n\t}\n\tonEnter(event) {\n\t\tif (event.keyCode == 13 && !event.ctrlKey && !event.metaKey) {\n\t\t\tif (typeof this.props.onClick === 'function' && !this.props.disabled)\n\t\t\t\tthis.props.onClick();\n\t\t}\n\t}\n\n\tredirect(to) {\n\t\tif (this.props.disabled)\n\t\t\treturn;\n\t\twindow.location.href = to;\n\t}\n\n\trender() {\n\t\tlet className = this.props.className || '';\n\t\tif (this.props.invert)\n\t\t\tclassName += ' invert';\n\t\tif (this.state.disabled)\n\t\t\tclassName += ' disabled';\n\t\treturn ( \n\t\t\t<div className={className+' button'} \n\t\t\t\t id={this.props.id} \n\t\t\t\t onClick={(function () {\n\t\t\t\t \tif (this.props.disabled)\n\t\t\t\t \t\treturn;\n\t\t\t\t \t(this.props.to ? this.redirect.bind(this, this.props.to) : this.props.onClick)();\t\n\t\t\t\t }).bind(this)}\n\t\t\t\t style={this.props.style}>\n\t\t\t\t {this.props.children}\n\t\t\t</div> \n\t\t);\n\t}\n}\n\nexport default Button;","import React from 'react';\nimport './Loading.css';\nexport default function (props) {\n\treturn <div className={(props.inline?'inline ':'')+'loader'}></div>\n}","import React from 'react';\nimport './Face.css';\n\nwindow.faces = [\n  \"\\\\(o_o)/\",\n  \"(ノಠ益ಠ)ノ\",\n  \"(ノಠ益ಠ)ノ彡┻━┻\",\n  \"(╯°□°）╯︵ ┻━┻\",\n  \"༼ つ ◕_◕ ༽つ\",\n  \"(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧\",\n  \"(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ ✧ﾟ･: *ヽ(◕ヮ◕ヽ)\",\n  \"ヽ(`Д´)ﾉ\",\n  \"ノ( º _ ºノ)\",\n  \"(ﾉಥ益ಥ）ﾉ\",\n  \"¬_¬\",\n  \"¯(°_o)/¯\",\n  \"¯\\\\_(ツ)_/¯\",\n  \"┌( ಠ_ಠ)┘\",\n  \"╚(ಠ_ಠ)=┐\",\n  \"☜(⌒▽⌒)☞\",\n  \"〆(・∀・＠)\",\n  \"ノ( º _ ºノ)\",\n  \"ノ( ゜-゜ノ)\",\n  \"°Д°\",\n  \"( ︶︿︶)\",\n  \"( .-. )\",\n  \"( .o.)\",\n  \"┻━┻ ︵ヽ(`Д´)ﾉ︵ ┻━┻\",\n  \"┬─┬ノ( º _ ºノ)\"\n];\n\nexport default (window.randomFace = function (type) {\n\tif (typeof type !== 'string')\n\t\ttype = 'react';\n\tlet text = window.faces[Math.round(Math.random()*(window.faces.length-1))];\n\n\tif (type === 'react') {\n\t\tlet spans = [];\n\t\tfor (let i = 0; i < text.length; ++i) {\n\t\t\tspans.push(<span key={i+''} style={{animationDelay: (i / 5) % 1 + 's'}}>{text[i]}</span>)\n\t\t}\n\t\treturn <div className=\"face\">{spans}</div>;\n\t} else {\n\t\tlet h = '<div class=\"face\">';\n\t\tfor (let i = 0; i < text.length; ++i)\n\t\t\th += '<span style=\"animation-delay: ' + ((i / 5) % 1) + 's\">' + text[i] + '</span>';\n\t\treturn h + '</div>';\n\t}\n});","import './Dialog.css';\nimport randomFace from '../Components/Face/Face';\n\nlet zindex = 100500;\nwindow.showDialog = function (header, content, code) {\n\tlet dialog = document.createElement('div');\n\tdialog.className = \"dialog\";\n\tdialog.style.zIndex = zindex++;\n\n\tlet dialogContent = document.createElement('div');\n\tdialogContent.className = \"dialog-content\";\n\n\tlet h1 = document.createElement('h1');\n\th1.innerHTML = randomFace('html');\n\tdialogContent.appendChild(h1);\n\n\tlet h2 = document.createElement('h2');\n\th2.innerText = header;\n\tdialogContent.appendChild(h2);\n\n\tlet p = document.createElement('p');\n\tp.innerText = content;\n\tdialogContent.appendChild(p);\n\n\tif (code) {\n\t\tlet pre = document.createElement('pre');\n\t\tpre.innerText = code;\n\t\tdialogContent.appendChild(pre);\n\t}\n\n\tdialog.appendChild(dialogContent);\n\n\tdocument.body.appendChild(dialog);\n\tdocument.body.style.overflow = 'hidden';\n}","import './DialogController.js';\n\nlet API = {\n\tSERVER_HOST: null,\n\t__query: [],\n\t__init: function () {\n\t\tAPI.GET('https://bodjo.net/SERVER_HOST', (status, hostname) => {\n\t\t\tif (status) {\n\t\t\t\tAPI.SERVER_HOST = hostname;\n\t\t\t\tif (API.__query.length > 0) {\n\t\t\t\t\tAPI.__query.forEach(args => API[args[0]].apply(API, args.slice(1)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.showDialog('Tried to obtain server\\'s hostname.', 'https://bodjo.net\\nGET /SERVER_HOST/')\n\t\t\t}\n\t\t});\n\t},\n\tGET: function (url, data, cb, tryToParse) {\n\t\tif (typeof data !== 'object') {\n\t\t\ttryToParse = cb || true;\n\t\t\tcb = data;\n\t\t}\n\t\tif (typeof tryToParse === 'undefined')\n\t\t\ttryToParse = true;\n\t\tlet xhr = new XMLHttpRequest();\n\t\tlet isAPIRequest = false;\n\t\tlet censoredURL = url;\n\t\tif (typeof data === 'object') {\n\t\t\tif (API.SERVER_HOST === null) {\n\t\t\t\tAPI.__query.push(['GET'].concat(Array.prototype.slice.apply(arguments)));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisAPIRequest = true;\n\t\t\tcensoredURL = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + (key==='token'||key==='password'?'<'+key+'>':encodeURIComponent(data[key]))).join('&');\n\t\t\turl = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + encodeURIComponent(data[key])).join('&');\n\t\t}\n\t\tconsole.log('[API] GET ' + url);\n\t\txhr.open('GET', url, true);\n\t\txhr.send();\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState !== 4) return;\n\n\t\t\tif (xhr.status === 200) {\n\t\t\t\tlet data = xhr.responseText;\n\t\t\t\tif (tryToParse) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t\tcb(true, data);\n\t\t\t} else {\n\t\t\t\tif (isAPIRequest) {\n\t\t\t\t\twindow.showDialog('Server, where are you?', 'Tried to make request:\\n\\nGET ' + censoredURL + '\\n'+xhr.getAllResponseHeaders()+'\\n\\n'+xhr.statusText)\n\t\t\t\t}\n\n\t\t\t\tconsole.error('Bad HTTP Response: ' + xhr.statusCode + \" - \" + xhr.statusText);\n\t\t\t\tcb(false, xhr);\n\t\t\t}\n\n\t\t}\n\t},\n\tPOST: function (url, data, before, cb, tryToParse) {\n\t\tif (typeof data !== 'object') {\n\t\t\ttryToParse = cb || true;\n\t\t\tcb = before;\n\t\t\tbefore = data;\n\t\t}\n\t\tif (typeof tryToParse === 'undefined')\n\t\t\ttryToParse = true;\n\t\tlet xhr = new XMLHttpRequest();\n\t\tlet isAPIRequest = false;\n\t\tlet censoredURL = url;\n\t\tif (typeof data === 'object') {\n\t\t\tif (API.SERVER_HOST === null) {\n\t\t\t\tAPI.__query.push(['POST'].concat(Array.prototype.slice.apply(arguments)));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisAPIRequest = true;\n\n\t\t\tcensoredURL = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + (key==='token'||key==='password'?'<'+key+'>':encodeURIComponent(data[key]))).join('&');\n\t\t\turl = API.SERVER_HOST + url + '?' + Object.keys(data).map(key => key + '=' + encodeURIComponent(data[key])).join('&');\n\t\t}\n\t\tconsole.log('[API] POST ' + url);\n\t\txhr.open('POST', url, true);\n\t\tbefore(xhr);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState !== 4) return;\n\n\t\t\tif (xhr.status === 200) {\n\t\t\t\tlet data = xhr.responseText;\n\t\t\t\tif (tryToParse) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t\tcb(true, data);\n\t\t\t} else {\n\t\t\t\tif (isAPIRequest) {\n\t\t\t\t\twindow.showDialog('Server, where are you?', 'Tried to make request:\\n\\nGET ' + censoredURL + '\\n'+xhr.getAllResponseHeaders()+'\\n\\n'+xhr.statusText)\n\t\t\t\t}\n\n\t\t\t\tconsole.error('Bad HTTP Response: ' + xhr.statusCode + \" - \" + xhr.statusText);\n\t\t\t\tcb(false, xhr);\n\t\t\t}\n\t\t}\n\t}\n};\nAPI.__init();\nwindow.API = API;\n\nexport default API;","const domain = 'bodjo.net';\nlet Storage = {\n\tdata: {},\n\tget: function (name) {\n\t\tlet o = null;\n\t\tif (getCookie(name)) {\n\t\t\to = getCookie(name);\n\t\t\tif (typeof localStorageGet(name) === 'undefined')\n\t\t\t\tlocalStorageSet(name, o);\n\t\t} else if (localStorageGet(name)) {\n\t\t\to = localStorageGet(name);\n\t\t\tsetCookie(name, o);\n\t\t\tsetCookie(name, o, {domain});\n\t\t}\n\t\tif (o != null) {\n\t\t\ttry {\n\t\t\t\to = JSON.parse(o)\n\t\t\t} catch (e) {}\n\t\t} else if (typeof Storage.data[name] !== 'undefined') {\n\t\t\treturn Storage.data[name];\n\t\t}\n\t\treturn o;\n\t},\n\tset: function (name, value) {\n\t\tlet v = JSON.stringify(value);\n\t\tlocalStorageSet(name, v);\n\t\tsetCookie(name, v);\n\t\tsetCookie(name, v, {domain});\n\t\tStorage.data[name] = value;\n\t},\n\tremove: function (name) {\n\t\tdeleteCookie(name);\n\t\tlocalStorage.removeItem(name);\n\t\tdelete Storage.data[name];\n\t}\n};\nwindow.Storage = Storage;\n\nfunction localStorageGet(name) {\n\ttry {\n\t\treturn localStorage.getItem(name);\n\t} catch (e) {\n\t\treturn null;\n\t}\n}\nfunction localStorageSet(name, value) {\n\ttry {\n\t\treturn localStorage.setItem(name, value);\n\t} catch (e) {\n\t\treturn null;\n\t}\n}\n\n// cookies (thanks to https://learn.javascript.ru/cookie)\nfunction getCookie(name) {\n  let matches = document.cookie.match(new RegExp(\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n  ));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\nfunction setCookie(name, value, options) {\n  options = {\n    path: '/',\n    ...options\n  }\n\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n\n  for (let optionKey in options) {\n    updatedCookie += \"; \" + optionKey;\n    let optionValue = options[optionKey];\n    if (optionValue !== true)\n      updatedCookie += \"=\" + optionValue;\n  }\n\n  document.cookie = updatedCookie;\n}\nfunction deleteCookie(name) {\n  setCookie(name, \"\", {\n    'max-age': -1\n  })\n}\n\n\nexport default Storage;","import API from './APIController';\nimport storage from './StorageController';\n\nconst strictSymbols = \"1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_-\";\n\nclass AccountController {\n\tconstructor() {\n\t\tthis.EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tthis.__listeners = {};\n\n\t\tthis.token = storage.get('bodjo-token');\n\t\tthis.username = storage.get('bodjo-username');\n\t\tthis.loading = false;\n\t\tthis.verified = false;\n\t\tif (this.token != null &&\n\t\t\ttypeof this.token === 'string') {\n\t\t\tthis.check();\n\t\t}\n\t}\n\ton(name, callback) {\n\t\tif (typeof this.__listeners[name] === 'undefined')\n\t\t\tthis.__listeners[name] = [];\n\t\tthis.__listeners[name].push(callback);\n\t}\n\temit(name) {\n\t\tif (typeof this.__listeners[name] === 'undefined')\n\t\t\treturn;\n\t\tlet args = Array.prototype.slice.apply(arguments).slice(1);\n\t\tfor (let listener of this.__listeners[name])\n\t\t\tlistener.apply(listener, args);\n\t}\n\n\tputVerifiedToken(token) {\n\t\tlet username = token.username;\n\t\tthis.verified = true;\n\t\tthis.token = token.value;\n\t\tthis.username = username;\n\t\tstorage.set('bodjo-token', this.token);\n\t\tstorage.set('bodjo-username', this.username);\n\t\tthis.emit('checked', this.verified);\n\t}\n\n\tloginByPassword(username, password, callback) {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tAPI.GET('/account/_login', {username, password}, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (this.verified) {\n\t\t\t\tthis.token = data.token.value;\n\t\t\t\tthis.username = username;\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t\tcallback(this.verified, data.errParameter, data);\n\t\t});\n\t}\n\n\tregister(hash, username, email, about, callback) {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tAPI.GET('/account/register', {\n\t\t\thash, username, email, about\n\t\t}, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (this.verified) {\n\t\t\t\tthis.token = data.token.value;\n\t\t\t\tthis.username = data.token.username;\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t\tcallback(this.verified, data.errParameter, data);\n\t\t})\n\t}\n\tuploadImage(file, callback) {\n\t\tif (!this.verified)\n\t\t\treturn;\n\t\tconst exts = {\n\t\t\t'image/png': 'png',\n\t\t\t'image/jpeg': 'jpeg',\n\t\t\t'image/jpg': 'jpg',\n\t\t\t'image/gif': 'gif'\n\t\t};\n\n\t\tAPI.POST('/account/uploadImage', {\n\t\t\ttoken: this.token,\n\t\t\text: exts[file.type]\n\t\t}, (req) => {\n\t\t\t// req.setRequestHeader('Content-Type', 'multipart/form-data');\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append('image', file);\n\t\t\treq.send(formData)\n\t\t}, (status, data) => {\n\t\t\tcallback(status && data.status == 'ok', data);\n\t\t})\n\t}\n\n\tlogout() {\n\t\tif (this.token && this.verified) {\n\t\t\tthis.loading = true;\n\t\t\tAPI.GET('/account/logout', {token: this.token}, (status, data) => {\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.token = null;\n\t\t\t\tthis.verified = false;\n\t\t\t\tif (status && data.status == 'ok') {\n\t\t\t\t\tconsole.log('token removed successfully')\n\t\t\t\t}\n\n\t\t\t\tthis.emit('checked', this.verified);\n\t\t\t})\n\t\t}\n\n\t\tstorage.remove('bodjo-token');\n\t\tstorage.remove('bodjo-username');\n\t}\n\n\tedit(email, about, callback) {\n\t\tlet o = {token: this.token};\n\t\tif (email.length > 0) o.email = email;\n\t\tif (about.length > 0) o.about = about;\n\t\tAPI.GET('/account/edit', o, (status, data) => {\n\t\t\tcallback(status && data.status === 'ok');\n\t\t});\n\t}\n\n\tcheck() {\n\t\tthis.loading = true;\n\t\tthis.emit('checking');\n\t\tAPI.GET('/account/check', {token: this.token}, (status, data) => {\n\t\t\tthis.loading = false;\n\t\t\tthis.verified = (status && data.status === 'ok');\n\t\t\tif (data.token && data.token.username)\n\t\t\t\tthis.username = data.token.username;\n\n\t\t\tif (this.verified) {\n\t\t\t\tstorage.set('bodjo-token', this.token);\n\t\t\t\tstorage.set('bodjo-username', this.username);\n\t\t\t}\n\n\t\t\tthis.emit('checked', this.verified);\n\t\t});\n\t}\n}\nexport default (window.account = new AccountController());","import text from '../text.json';\n\nlet LanguageController = function (name) {\n\treturn text[LanguageController.lang][name];\n};\nLanguageController.langs = Object.keys(text);\n\nLanguageController.lang = \n\twindow.Storage.get('bodjo-lang') || \n\t(window.navigator.language.match(/^\\w+/)||['en'])[0].toLowerCase();\nif (LanguageController.langs.indexOf(LanguageController.lang) === -1)\n\tLanguageController.lang = LanguageController.langs[0];\nLanguageController.updateLang = function (newLang) {\n\tif (newLang === LanguageController.lang)\n\t\treturn;\n\tif (LanguageController.langs.indexOf(newLang) === -1)\n\t\treturn;\n\twindow.Storage.set('bodjo-lang', newLang);\n\tLanguageController.lang = newLang;\n\n\twindow.location.reload();\n}\n\nexport default (window.T = LanguageController);","import React from 'react';\nimport Link from './../../../Components/Link/Link';\nimport Button from './../../../Components/Button/Button';\nimport Loading from './../../../Components/Loading/Loading';\nimport API from './../../../Controllers/APIController';\nimport account from './../../../Controllers/AccountController';\nimport T from './../../../Controllers/LanguageController';\n\nimport './GamesList.css';\n\nclass GamesList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.gameServers = {};\n\t\tthis.state = {loading: true};\n\n\t\tlet self = this;\n\t\tfunction obtain(component, isMounted, data) {\n\t\t\tlet games = {};\n\t\t\tfor (let server of data.servers) {\n\t\t\t\tlet gameServer = \n\t\t\t\t\t\tself.gameServers[server.name] = \n\t\t\t\t\t\tnew GameServer(server, (info) => {\n\t\t\t\t\t\t\tlet o = {}; o[info.name] = info;\n\t\t\t\t\t\t\tself.setState(o);\n\t\t\t\t\t\t});\n\t\t\t\tgameServer.obtain();\n\t\t\t\tgames[server.name] = gameServer.info();\n\t\t\t}\n\t\t\tgames.loading = false;\n\t\t\tif (isMounted)\n\t\t\t\tcomponent.setState(games);\n\t\t\telse component.state = games;\n\t\t}\n\t\tif (window.__gamesListCache) {\n\t\t\tobtain(this, false, window.__gamesListCache);\n\t\t} else {\n\t\t\tlet roptions = {};\n\t\t\tif (account.token && account.verified)\n\t\t\t\troptions.token = account.token;\n\t\t\tAPI.GET('/games/info', roptions, (status, data) => {\n\t\t\t\tif (status && data.status === 'ok') {\n\t\t\t\t\tobtain(this, true, data);\n\t\t\t\t\twindow.__gamesListCache = data;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tfor (let serverName in this.gameServers)\n\t\t\tthis.gameServers[serverName].destroy();\n\t\tthis.state = {};\n\t}\n\n\tgo(name, link) {\n\t\t// API.GET('/games/join', {name: name, token: account.token}, (status, data) => {\n\t\t\t// if (status && data.status === 'ok')\n\t\t\t\t// window.location.href = link + '/#' + data.username + ':' + data.gameSessionToken;\n\t\t// });\n\t\twindow.location.href = link + '/#' + account.username + ':' + account.token;\n\t}\n\n\trender() {\n\t\tlet content = [];\n\n\t\tif (!this.state.loading) {\n\t\t\tlet games = {};\n\t\t\tfor (let serverName in this.state) {\n\t\t\t\tif (serverName == 'loading') continue;\n\t\t\t\tlet game = this.state[serverName].game;\n\t\t\t\tif (this.state[serverName].local && \n\t\t\t\t\tthis.state[serverName].status)\n\t\t\t\t\tgame = '_' + this.state[serverName].name;\n\t\t\t\tif (typeof games[game] === 'undefined')\n\t\t\t\t\tgames[game] = [];\n\t\t\t\tgames[game].push(this.state[serverName]);\n\t\t\t}\n\n\t\t\tfor (let gameName in games) {\n\t\t\t\tlet realGameName = (games[gameName][0]||{game:gameName}).game;\n\t\t\t\tlet serversContent = [];\n\t\t\t\tfor (let server of games[gameName]) {\n\t\t\t\t\t// console.log(server.spectateLink)\n\t\t\t\t\tserversContent.push(\n\t\t\t\t\t\t<div className=\"game-server\" key={server.name}>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<span className={'status ' + (server.status?'enabled':'disabled')} /> \n\t\t\t\t\t\t\t\t<span className=\"players-count\">{\n\t\t\t\t\t\t\t\t\tserver.status ? \n\t\t\t\t\t\t\t\t\t(<span>[{ server.local ? <i>local</i> : <span><b>{server.players.value}</b>/{server.players.max}</span> }]</span>) :\n\t\t\t\t\t\t\t\t\t(<span>[<b className=\"loading\"><span>-/|\\</span></b>]</span>)\n\t\t\t\t\t\t\t\t}</span>\n\t\t\t\t\t\t\t\t<span className=\"name\">{server.showName}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={\"go\"+(!account.verified?\" disabled\":\"\")}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{/*<span className=\"ping\">{(server.ping||0).toFixed(1)}ms</span>*/}\n\t\t\t\t\t\t\t\t\t<Button disabled={!server.status || !account.verified} onClick={this.go.bind(this, server.name, server.link)}>{ T('game_play') }</Button>\n\t\t\t\t\t\t\t\t\t<span className=\"label\">{T('game_shouldlogin1')} <Link to=\"/login/\">{ T('game_shouldlogin2') }</Link></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button invert disabled={!server.status} to={server.spectateLink}>{ T('game_spectate') }</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcontent.unshift(\n\t\t\t\t\t<div className={'game' + (gameName[0]=='_'?' event':'')} key={gameName} style={{backgroundImage: 'url(assets/games/'+realGameName+'/bg.png)'}}>\n\t\t\t\t\t\t<h3>{gameName[0] == '_' ? 'LIVE '+realGameName+' hackathon' : realGameName}</h3>\n\t\t\t\t\t\t{gameName[0] == '_' ? <div className=\"eventanim\"><span></span><span></span><span></span></div> : ''}\n\t\t\t\t\t\t{serversContent}\n\t\t\t\t\t\t<div className=\"grey\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (content.length == 0) {\n\t\t\tcontent.push(\n\t\t\t\t<div className=\"no-games\" key=\"no-games\">\n\t\t\t\t\t<h3>{window.randomFace()}</h3>\n\t\t\t\t\t<span>все сломалось! где игрыы?</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"section games\">\n\t\t\t\t<h2><img src='/assets/games.png' />{ window.T('tab_games') }</h2>\n\t\t\t\t{this.state.loading ? <Loading /> : content}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass GameServer {\n\tconstructor(info, onUpdate) {\n\t\tthis.onUpdate = onUpdate;\n\t\tthis.host = info.host;\n\t\tthis.apihost = info.apihost;\n\t\tthis.name = info.name;\n\t\tthis.game = info.game;\n\t\tthis.showName = (this.name.substring(0, this.game.length+1) == this.game+'-') ?\n\t\t\t\t\t\t this.name.substring(this.game.length+1) : this.name;\n\t\tthis.status = false;\n\t\tthis.link = info.host;\n\t\tif (this.link.indexOf('http:\\/\\/') < 0 &&\n\t\t\tthis.link.indexOf('https:\\/\\/') < 0)\n\t\t\tthis.link = 'http:\\/\\/' + this.link;\n\t\tthis.spectateLink = this.link + '/spectate';\n\t\tthis.loading = true;\n\n\t\tthis.local = this.apihost.length == 0;\n\n\t\t// this.pings = [];\n\t\t// this.pingValue = null;\n\n\t\tthis.players = {value: 0, max: 0}\n\t}\n\n\tupdate() {\n\t\tthis.onUpdate(this.info())\n\t}\n\n\tinfo() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tshowName: this.showName,\n\t\t\tgame: this.game,\n\t\t\thost: this.host,\n\t\t\tlink: this.link,\n\t\t\tlocal: this.local,\n\t\t\t// ping: this.pingValue,\n\t\t\tstatus: this.status,\n\t\t\tplayers: this.players,\n\t\t\tspectateLink: this.spectateLink\n\t\t};\n\t}\n\n\tdestroy() {\n\t\tif (this.pingTimeout)\n\t\t\tclearTimeout(this.pingTimeout);\n\t}\n\n\tobtain() {\n\t\tthis.loadInfo();\n\t\t// this.pingEach(10);\n\t}\n\n\tloadInfo(callback) {\n\t\tif (this.local) {\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.link + '/favicon.png';\n\t\t\timg.onload = () => {\n\t\t\t\tlet wasStatus = this.status;\n\t\t\t\tthis.status = true;\n\t\t\t\tif (wasStatus != this.status)\n\t\t\t\t\tthis.update();\n\t\t\t}\n\t\t} else {\n\t\t\tAPI.GET(this.apihost+'/status', (status, data) => {\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.players.value = data.playersCount;\n\t\t\t\t\tthis.players.max = data.maxPlayersCount;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.status = true;\n\t\t\t\t\tthis.update();\n\t\t\t\t} else {\n\t\t\t\t\tlet wasStatus = this.status;\n\t\t\t\t\tthis.status = false;\n\t\t\t\t\tif (wasStatus != this.status)\n\t\t\t\t\t\tthis.update();\n\t\t\t\t}\n\n\t\t\t\tif (typeof callback === 'function')\n\t\t\t\t\tcallback();\n\t\t\t});\n\t\t}\n\t}\n\t// ping (callback) {\n\t// \tlet start = Date.now();\n\t// \tAPI.GET(this.apihost+'/ping', (status, timestamp) => {\n\t// \t\tlet end = Date.now(), middle = parseInt(timestamp);\n\t// \t\tif (status && !isNaN(middle)) {\n\t// \t\t\tthis.pings.push(end-start);\n\t// \t\t\tthis.pingValue = this.pings.reduce((a,b)=>a+b) / this.pings.length;\n\t// \t\t\tthis.status = true;\n\t// \t\t\tthis.update();\n\t// \t\t} else {\n\t// \t\t\tlet wasStatus = this.status;\n\t// \t\t\tthis.status = false;\n\t// \t\t\tif (wasStatus != this.status)\n\t// \t\t\t\tthis.update();\n\t// \t\t}\n\n\t// \t\tif (typeof callback === 'function')\n\t// \t\t\tcallback();\n\t// \t}, false);\n\t// }\n\n\t// pingEach(n, i = 0) {\n\t// \tif (i == n)\n\t// \t\treturn;\n\n\t// \tthis.ping(() => {\n\t// \t\tthis.pingTimeout = setTimeout(this.pingEach.bind(this, n, i+1), 1000*i);\n\t// \t});\n\t// }\n}\n\nexport default GamesList;","import React from 'react';\nimport Loading from './../../../Components/Loading/Loading';\nimport Link from './../../../Components/Link/Link';\nimport API from './../../../Controllers/APIController';\nimport './NewsList.css';\n\nconst pagesCount = 2;\n\nclass NewsList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {news: [], newsTotal: 0, loading: true};\n\n\t\tfunction obtain(component, isMounted, data) {\n\t\t\tfunction more(page) {\n\t\t\t\treturn '<span class=\"closer\"></span><a class=\"link more\" href=\"https://pages.bodjo.net/'+page.id+'\">'+window.T('news_moreinfo')+'</a>';\n\t\t\t}\n\t\t\tlet news = data.pages;\n\t\t\tfor (let newsPiece of news)\n\t\t\t\tnewsPiece.html = window.parseBodjoPage(newsPiece.preview) + more(newsPiece);\n\t\t\tlet newState = {\n\t\t\t\tnews: news,\n\t\t\t\tnewsTotal: data.total,\n\t\t\t\tloading: false\n\t\t\t};\n\t\t\tif (isMounted)\n\t\t\t\tcomponent.setState(newState);\n\t\t\telse component.state = newState;\n\t\t}\n\n\t\tif (window.__newsListCache) {\n\t\t\tobtain(this, false, window.__newsListCache)\n\t\t} else {\t\n\t\t\tAPI.GET('/pages/search', {q: 'news.', lang: window.T.lang, preview: 1, order: false, count: pagesCount}, (status, data) => {\n\t\t\t\tif (status && data.status === 'ok') {\n\t\t\t\t\tobtain(this, true, data);\n\t\t\t\t\twindow.__newsListCache = data;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"section news\">\n\t\t\t\t<h2><img src='/assets/news.png' />{ window.T('tab_news') }</h2>\n\t\t\t\t{this.state.loading ? <Loading /> :\n\t\t\t\t\t[\n\t\t\t\t\t\tthis.state.news.map(page => <div key={page.id} className='news-piece bodjo-page' dangerouslySetInnerHTML={{__html:page.html}}></div>),\n\t\t\t\t\t\t(this.state.newsTotal > pagesCount ? <Link key=\"morenews\" to=\"/news/\">{ window.T('news_morenews') }</Link> : '')\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default NewsList;","import React from 'react';\nimport GamesList from './GamesList/GamesList';\nimport NewsList from './NewsList/NewsList';\nimport T from '../../Controllers/LanguageController';\nimport './Index.css';\n\nclass IndexPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\n\trender() {\n\t\tsetTimeout(window.loadBodjoPage.bind(null, 'main.about.' + T.lang, '#index .whatisit', {\n\t\t\tsignature: false,\n\t\t\tcache: true\n\t\t}), 1);\n\n\n\t\treturn (\n\t\t\t<div id=\"index\">\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<div className=\"section whatisit\"></div>\n\t\t\t\t\t<GamesList />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right\">\n\t\t\t\t\t<NewsList />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default IndexPage;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Input.css';\n\nclass Input extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hasError = false;\n\t}\n\tvalue() {\n\t\tlet input = ReactDOM.findDOMNode(this);\n\t\treturn input.value;\n\t}\n\terror() {\n\t\tlet input = ReactDOM.findDOMNode(this);\n\t\tif (this.hasError)\n\t\t\treturn;\n\n\t\tthis.hasError = true;\n\t\tinput.className = (this.props.className||'') + ' error';\n\t\tsetTimeout(() => {\n\t\t\tinput.className = (this.props.className||'');\n\t\t\tthis.hasError = false;\n\t\t}, 500);\n\t}\n\trender() {\n\t\treturn <input\n\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tclassName={this.props.className}\n\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\tonKeyUp={this.props.onKeyUp}\n\t\t\t\t\tdefaultValue={this.props.value}\n\t\t\t\t/>;\n\t}\n}\n\nexport default Input;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../Components/Loading/Loading';\nimport API from './APIController';\nimport account from './../Controllers/AccountController';\n\nconst settings = {\n\tgithub: {\n\t\turl: 'https://github.com/login/oauth/authorize',\n\t\tclient_id: 'd823a0caac275c91d9e2',\n\t\tscope: 'user'\n\t},\n\tdiscord: {\n\t\turl: 'https://discordapp.com/api/v6/oauth2/authorize',\n\t\tclient_id: '652244984036327462',\n\t\tresponse_type: 'code',\n\t\tprompt: 'consent',\n\t\tscope: 'identify email guilds.join'\n\t},\n\tgoogle: {\n\t\turl: 'https://accounts.google.com/o/oauth2/v2/auth',\n\t\tclient_id: '208677133829-00m6sbstptmupskl5dnn0h9t3ujaurjn.apps.googleusercontent.com',\n\t\tscope: 'https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email',\n\t\tresponse_type: 'code',\n\t\taccess_type: 'offline',\n\t\tprompt: 'consent'\n\t}\n};\naccount.socials = Object.keys(settings);\n\nfunction queryString(obj) {\n\treturn Object.keys(obj).map(key => encodeURIComponent(key) + '=' + encodeURIComponent(obj[key])).join('&');\n}\nfunction queryObject(str) {\n\tif (typeof str === 'undefined') {\n\t\tlet href = window.location.href;\n\t\tstr = (href.indexOf('?') >= 0 ? href.substring(href.indexOf('?')+1) : '');\n\t}\n\n\tlet o = {};\n\tstr.split('&').map(param => {\n\t\tif (param.indexOf('=') < 0)\n\t\t\to[decodeURIComponent(param)] = true;\n\t\telse\n\t\t\to[decodeURIComponent(param.substring(0, param.indexOf('=')))] = decodeURIComponent(param.substring(param.indexOf('=')+1));\n\t});\n\treturn o;\n}\nfunction rmKey(obj, key) {\n\tobj = Object.assign({}, obj);\n\tdelete obj[key];\n\treturn obj;\n}\n\nclass SocialController {\n\tconstructor() {\n\t\tthis.provider = SocialControllerProvider;\n\t}\n\tlogin(socialname) {\n\t\tthis.redirect(socialname, 'login');\n\t}\n\tattach(socialname) {\n\t\tthis.redirect(socialname, 'attach');\n\t}\n\n\tredirect(socialname, purpose) {\n\t\tlet hostname = window.location.href.substring(0, window.location.href.length - window.location.pathname.length);\n\t\tlet redirect_uri = hostname + '/social-provider/' + purpose + '/' + socialname + '/';\n\n\t\twindow.location.href = settings[socialname].url + '?' + queryString(\n\t\t\tObject.assign({redirect_uri}, rmKey(settings[socialname], 'url'))\n\t\t);\n\t}\n}\n\nclass SocialControllerProvider extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet query = queryObject();\n\t\tthis._redirect = null;\n\t\tthis._error = null;\n\n\t\tif (window.location.pathname.split('/').length < 3)\n\t\t\tthis._error = 'wrong pathname';\n\t\tif (query.error) {\n\t\t\tthis._error = query.error;\n\t\t\treturn;\n\t\t}\n\n\t\tlet purpose = window.location.pathname.split('/')[2];\n\t\tlet social = window.location.pathname.split('/')[3];\n\n\t\tif (purpose === 'login') {\n\t\t\tAPI.GET('/account/login', Object.assign({social}, query), (status, data) => {\n\t\t\t\tif (status && data.status == 'ok') {\n\t\t\t\t\tif (data.token) {\n\t\t\t\t\t\taccount.putVerifiedToken(data.token);\n\t\t\t\t\t\tthis.redirect('/');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.redirect('/register/?' + queryString(Object.assign(data.recommendedInfo, {hash: data.hash})));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.error(JSON.stringify(data));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (purpose === 'attach') {\n\t\t\tAPI.GET('/account/attach', \n\t\t\t\t\tObject.assign({token: account.token, social}, query),\n\t\t\t\t\t(status, data) => {\n\t\t\t\t\t\tif (status && data.status == 'ok') {\n\t\t\t\t\t\t\tthis.redirect('/my-account/');\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tthis.error(JSON.stringify(data));\n\t\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tredirect(url) {\n\t\tthis._redirect = url;\n\t\tthis.forceUpdate();\n\t}\n\n\terror(msg) {\n\t\tthis._error = msg;\n\t\tthis.forceUpdate();\n\t}\n\n\trender() {\n\t\tif (this._redirect != null)\n\t\t\treturn <Redirect to={this._redirect} />\n\t\tif (this._error != null)\n\t\t\treturn <p>{this._error}</p>;\n\t\treturn <Loading />;\n\t}\n}\n\nexport default (window.SocialController = new SocialController());","import React from 'react';\nimport Button from './../../Components/Button/Button';\n\nimport SocialController from './../../Controllers/SocialController';\n\nimport './SocialButton.css';\nimport T from './../../Controllers/LanguageController';\n\nconst colors = {\n\t'github': '#000000',\n\t'discord': '#7289da',\n\t'google': '#FFFFFF'\n};\n\nfunction capitalize(string) {\n\treturn string[0].toUpperCase() + string.substring(1);\n}\n\nclass SocialButton extends React.Component {\n\trender() {\n\t\tlet bgColor = colors[this.props.social] || '#FFFFFF';\n\t\tlet invertColor = bgColor !== '#FFFFFF'; // todo: make normally\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\tinvert={invertColor}\n\t\t\t\tclassName='socialbutton'\n\t\t\t\tstyle={{ backgroundColor: bgColor }}\n\t\t\t\tonClick={SocialController[this.props.purpose].bind(SocialController, this.props.social)}\n\t\t\t>\n\t\t\t\t<img src={'/assets/social/'+this.props.social+'.png'} />\n\t\t\t\t<p>{T('login_social_button') + ' ' + capitalize(this.props.social)}</p>\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nexport default SocialButton;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport Input from './../../Components/Input/Input';\nimport Button from './../../Components/Button/Button';\nimport { Redirect } from \"react-router-dom\";\n\nimport SocialButton from './../../Components/SocialButton/SocialButton';\n\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\n\nimport './LoginPage.css';\n\nfunction arrayPutBetween(arr, el) {\n\tfor (let i = arr.length-1; i > 0; i -= 1)\n\t\tarr.splice(i, 0, el);\n\treturn arr;\n}\n\nclass LoginPage extends React.Component {\n\tconstructor(props){ \n\t\tsuper(props);\n\n\t\tthis.usernameInput = React.createRef();\n\t\tthis.passwordInput = React.createRef();\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\tonSubmit() {\n\t\tlet username = this.usernameInput.current.value();\n\t\tlet password = this.passwordInput.current.value();\n\n\t\tif (username.length === 0)\n\t\t\tthis.usernameInput.current.error();\n\t\tif (password.length === 0)\n\t\t\tthis.passwordInput.current.error();\n\n\t\tif (username.length > 0 &&\n\t\t\tpassword.length > 0) {\n\t\t\taccount.loginByPassword(username, password, (status, errParameter, data) => {\n\t\t\t\tif (errParameter === 'username' || (data.status === 'fail' && data.errCode === 1))\n\t\t\t\t\tthis.usernameInput.current.error();\n\t\t\t\tif (errParameter === 'password' || (data.status === 'fail' && data.errCode === 1))\n\t\t\t\t\tthis.passwordInput.current.error();\n\t\t\t});\n\t\t}\n\t}\n\n\trender () {\n\t\tif (account.verified) {\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\n\t\treturn (\n\t\t\t<div id='login-page-wrapper'>\n\t\t\t\t<div id='login-page'> \n\t\t\t\t\t<h3>{ T('login_header') }</h3>\n\t\t\t\t\t<p>{ T('login_description') }</p>\n\t\t\t\t\t<div className=\"socialbuttons\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tarrayPutBetween(\n\t\t\t\t\t\t\t\taccount.socials.map(socialname => <SocialButton key={socialname} social={socialname} purpose=\"login\" />),\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className='separator' />\n\t\t\t\t\t<p>{ T('login_description_old') }</p>\n\t\t\t\t\t<div className='inputs'>\n\t\t\t\t\t\t<Input ref={this.usernameInput} placeholder={ T('login_username_placeholder') } type=\"text\" className='username' />\n\t\t\t\t\t\t<Input ref={this.passwordInput} placeholder={ T('login_password_placeholder') } type=\"password\" className='password' />\n\t\t\t\t\t</div>\n\t\t\t\t\t{account.loading ? \n\t\t\t\t\t\t<Loading inline /> :\n\t\t\t\t\t\t<Button enter invert onClick={this.onSubmit.bind(this)}>{ T('login_submit') }</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginPage;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Textarea.css';\n\nclass Textarea extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hasError = false;\n\t}\n\tvalue() {\n\t\tlet textarea = ReactDOM.findDOMNode(this).querySelector('textarea');\n\t\treturn textarea.value;\n\t}\n\terror() {\n\t\tif (this.hasError)\n\t\t\treturn;\n\t\tthis.hasError = true;\n\n\t\tlet textarea = ReactDOM.findDOMNode(this).querySelector('textarea');\n\t\ttextarea.className = (this.props.className||'') + ' error';\n\t\tsetTimeout(() => {\n\t\t\ttextarea.className = (this.props.className||'');\n\t\t\tthis.hasError = false;\n\t\t}, 500);\n\t}\n\tonKeyUp(event) {\n\t\tif (this.props.onKeyUp)\n\t\t\tthis.props.onKeyUp(event);\n\n\t\tlet rootdiv = ReactDOM.findDOMNode(this);\n\t\tlet textarea = rootdiv.querySelector('textarea');\n\t\tlet span = rootdiv.querySelector('span');\n\t\tif (this.props.max) {\n\t\t\tspan.innerText = textarea.value.length+' ('+this.props.max+')';\n\t\t\tspan.className = (this.props.max < textarea.value.length) ? 'error' : '';\n\t\t} else\n\t\t\tspan.innerText = textarea.value.length;\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className='textarea'\n\t\t\t\t style={this.props.style}>\n\t\t\t \t<textarea\n\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tclassName={this.props.className}\n\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\t\t\tdefaultValue={this.props.value}\n\t\t\t\t\tstyle={this.props.style}\n\t\t\t\t></textarea>\n\t\t\t\t<span>{(this.props.value||'').length + (this.props.max ? ' ('+this.props.max+')' : '')}</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Textarea;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport Input from './../../Components/Input/Input';\nimport Textarea from './../../Components/Textarea/Textarea';\nimport Button from './../../Components/Button/Button';\nimport { Redirect } from \"react-router-dom\";\n\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\n\nimport './RegisterPage.css';\n\nfunction queryObject(str) {\n\tif (typeof str === 'undefined') {\n\t\tlet href = window.location.href;\n\t\tstr = (href.indexOf('?') >= 0 ? href.substring(href.indexOf('?')+1) : '');\n\t}\n\n\tlet o = {};\n\tstr.split('&').map(param => {\n\t\tif (param.indexOf('=') < 0)\n\t\t\to[decodeURIComponent(param)] = true;\n\t\telse\n\t\t\to[decodeURIComponent(param.substring(0, param.indexOf('=')))] = decodeURIComponent(param.substring(param.indexOf('=')+1));\n\t});\n\treturn o;\n}\n\nclass RegisterPage extends React.Component {\n\tconstructor(props){ \n\t\tsuper(props);\n\n\t\tthis.inited = false;\n\t\tthis.query = queryObject();\n\t\tthis.hash = this.query.hash;\n\n\t\tthis.usernameInput = React.createRef();\n\t\tthis.aboutInput = React.createRef();\n\t\tthis.emailInput = React.createRef();\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\tonSubmit() {\n\t\tlet username = this.usernameInput.current.value();\n\t\tlet about = this.aboutInput.current.value();\n\t\tlet email = this.emailInput.current.value();\n\n\t\tif (username.length < 3 || username.length > 15 || /^bot.+$/g.test(username))\n\t\t\tthis.usernameInput.current.error();\n\t\telse if (email.length > 0 && !account.EMAIL_REGEX.test(email))\n\t\t\tthis.emailInput.current.error();\n\t\telse {\n\t\t\taccount.register(this.hash, username, email, about, (status, errParameter) => {\n\t\t\t\tif (errParameter === 'username')\n\t\t\t\t\tthis.usernameInput.current.error();\n\t\t\t\tif (errParameter === 'email')\n\t\t\t\t\tthis.emailInput.current.error();\n\t\t\t\tif (errParameter === 'hash') {\n\t\t\t\t\tthis.hash = null;\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender () {\n\t\tif (account.verified || typeof this.hash !== 'string') {\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\n\t\treturn (\n\t\t\t<div id='register-page-wrapper'>\n\t\t\t\t<div id='register-page'> \n\t\t\t\t\t<h3>{ T('register_header') }</h3>\n\t\t\t\t\t<div className='inputs'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\tref={this.usernameInput} \n\t\t\t\t\t\t\t\tplaceholder={ T('register_username_placeholder') } \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tclassName='username'\n\t\t\t\t\t\t\t\tvalue={!this.inited ? this.query.username : ''}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ {__html: T('register_username_rules') } } \n\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tref={this.emailInput}\n\t\t\t\t\t\t\t\tplaceholder={ T('register_email_placeholder') }\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName='email'\n\t\t\t\t\t\t\t\tvalue={!this.inited ? this.query.email : ''}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ {__html: T('register_email_rules') } }\n\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\n\t\t\t\t\t\t\t\tref={this.aboutInput}\n\t\t\t\t\t\t\t\tplaceholder={ T('register_about_placeholder') }\n\t\t\t\t\t\t\t\tclassName='about'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{account.loading ? \n\t\t\t\t\t\t<Loading inline /> :\n\t\t\t\t\t\t<Button enter invert onClick={this.onSubmit.bind(this)}>{ T('register_submit') }</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RegisterPage;","import API from './APIController';\n\nlet UserInfo = window.UserInfo = {\n\tcache: {},\n\t__query: [],\n\t__callbacks: [],\n\t__lastQueryAppend: 0,\n\tload: function (username, callback) {\n\t\tif (UserInfo.cache[username]) {\n\t\t\tcallback(UserInfo.cache[username]);\n\t\t\treturn;\n\t\t}\n\n\t\tUserInfo.__query.push(username);\n\t\tUserInfo.__callbacks.push(callback);\n\t\tlet lastQueryAppend = UserInfo.__lastQueryAppend = Date.now();\n\t\tsetTimeout(function () {\n\t\t\tif (lastQueryAppend === UserInfo.__lastQueryAppend &&\n\t\t\t\tUserInfo.__query.length > 0) {\n\n\t\t\t\tAPI.GET('/account/info', {usernames: UserInfo.__query}, (status, data) => {\n\t\t\t\t\tfor (let _username in data.result) {\n\t\t\t\t\t\tUserInfo.cache[_username] = data.result[_username];\n\t\t\t\t\t\tif (username === _username)\n\t\t\t\t\t\t\tcallback(UserInfo.cache[_username]);\n\t\t\t\t\t}\n\n\t\t\t\t\tUserInfo.__query = [];\n\t\t\t\t});\n\t\t\t}\n\t\t}, 50);\n\t},\n\tmy: function (token, callback) {\n\t\tAPI.GET('/account/info', {token}, (status, data) => {\n\t\t\tif (status && data.status === 'ok' && data.result.length > 0) {\n\t\t\t\tcallback(data.result[0]);\n\t\t\t}\n\t\t});\n\t}\n}\n\n// if (localStorage.UserInfo) {\n// \tUserInfo.cache = JSON.parse(localStorage.UserInfo);\n// }\n\nexport default UserInfo;","import React from 'react';\nimport account from './../../Controllers/AccountController';\nimport T from './../../Controllers/LanguageController';\nimport UserInfo from './../../Controllers/UserInfoController';\nimport Textarea from './../../Components/Textarea/Textarea';\nimport Input from './../../Components/Input/Input';\nimport Button from './../../Components/Button/Button';\nimport Loading from './../../Components/Loading/Loading';\nimport SocialButton from './../../Components/SocialButton/SocialButton';\nimport {Redirect} from \"react-router-dom\";\n\nimport './MyAccount.css';\n\nfunction range(x, min, max) {\n\treturn Math.min(Math.max(x, min), max);\n}\nfunction digit(x) {\n\tif (x < 20)\n\t\treturn x;\n\tlet b = x % 10, a = (x-b)/10%10; // x = xxxxxab; (ex. 923912; b=2, a=1) \n\tif (a >= 2 && b > 0)\n\t\treturn b;\n\treturn x;\n}\nfunction capitalize(string) {\n\treturn string[0].toUpperCase() + string.substring(1);\n}\n\nfunction arrayPutBetween(arr, el) {\n\tfor (let i = arr.length-1; i > 0; i -= 1)\n\t\tarr.splice(i, 0, el);\n\treturn arr;\n}\n\n\n\nclass MyAccountPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.submitButton = React.createRef();\n\t\tthis.aboutInput = React.createRef();\n\t\tthis.emailInput = React.createRef();\n\n\t\tthis.state = {loading: true, info: null};\n\t\tthis._ismounted = false;\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t\tUserInfo.my(account.token, (info) => {\n\t\t\tlet newState = {loading: false, info};\n\t\t\tif (this._ismounted)\n\t\t\t\tthis.setState(newState);\n\t\t\telse this.state = newState;\n\t\t});\n\t}\n\n\tcomponentDidMount() { \n\t\tthis._ismounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._ismounted = false;\n\t}\n\n\thandleLogout() {\n\t\taccount.logout();\n\t}\n\thandleEdit() {\n\t\tlet email = this.emailInput.current.value();\n\t\tlet about = this.aboutInput.current.value();\n\n\t\tif (email.length > 0 && !account.EMAIL_REGEX.test(email))\n\t\t\tthis.emailInput.current.error();\n\t\telse if (about.length > 250)\n\t\t\tthis.aboutInput.current.error();\n\t\telse {\n\t\t\taccount.edit(email, about, () => {\n\t\t\t\tlet info = this.state.info;\n\t\t\t\tinfo.email = email;\n\t\t\t\tinfo.about = about;\n\t\t\t\tthis.setState({info});\n\t\t\t\tthis.update();\n\t\t\t})\n\t\t}\n\t}\n\thandleImageUpload(e) {\n\t\te.persist()\n\t\tlet input = e.target;\n\t\tlet file = input.files[0];\n\t\tif (typeof file !== 'object')\n\t\t\treturn;\n\n\t\taccount.uploadImage(file, (status, data) => {\n\t\t\tif (status && data.status == 'ok') {\n\t\t\t\tlet info = this.state.info;\n\t\t\t\tinfo.image = data;\n\t\t\t\tthis.setState({imaget: Date.now(), info});\n\t\t\t} else {\n\t\t\t\talert(data.errText);\n\t\t\t}\n\t\t});\n\t}\n\tupdate() {\n\t\tthis.submitButton.current.setState({disabled: (\n\t\t\tthis.aboutInput.current.value() == this.state.info.about &&\n\t\t\tthis.emailInput.current.value() == this.state.info.email\n\t\t)});\n\t}\n\tgetTimeString() {\n\t\tlet timeSpent = Date.now() - this.state.info['registration-time'];\n\t\tlet timeString = '';\n\t\tlet timeRanges = T('myaccount_usertime_ranges');\n\t\tlet countLastNumber = T('myaccount_usertime_ranges_countlastnumber');\n\t\tfor (let d = timeSpent, i = 0; i < timeRanges.length; ++i) {\n\t\t\tlet v = Math.floor(d / timeRanges[i].value);\n\t\t\tif (v < 1) continue;\n\t\t\ttimeString += v + ' ' + timeRanges[i].string[range(countLastNumber ? digit(v) : v, 1, timeRanges[i].string.length)-1] + ' ';\n\t\t\td -= v * timeRanges[i].value;\n\t\t}\n\t\treturn timeString;\n\t}\n\trender() {\n\t\tif (!account.loading && (!account.verified || !account.token))\n\t\t\treturn <Redirect to=\"/login/\" />;\n\n\t\tif (account.loading || this.state.loading)\n\t\t\treturn <Loading />;\n\n\t\tlet timeString = this.timeString || (this.timeString = this.getTimeString());\n\n\t\treturn (\n\t\t\t<div id=\"my-account-wrapper\">\n\t\t\t\t<div id=\"my-account\">\n\t\t\t\t\t<span id=\"user-image\" style={{backgroundImage:'url('+this.state.info.image[128]+(this.state.imaget?'?'+this.state.imaget:'')+')'}}>\n\t\t\t\t\t\t<span className=\"upload\"></span>\n\t\t\t\t\t\t<input onChange={this.handleImageUpload.bind(this)} type='file' accept='.png,.jpg,.jpeg,.gif' />\n\t\t\t\t\t</span>\n\t\t\t\t\t<div id=\"user-info\">\n\t\t\t\t\t\t<h1>{this.state.info.username}</h1>\n\t\t\t\t\t\t<p id=\"user-time\">{T('myaccount_usertime')}{timeString}</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Input ref={this.emailInput} onKeyUp={this.update.bind(this)} onChange={this.update.bind(this)} type='text' placeholder={T('myaccount_email_placeholder')} value={this.state.info.email} />\n\t\t\t\t\t\t<Textarea ref={this.aboutInput} onKeyUp={this.update.bind(this)} onChange={this.update.bind(this)} type='text' placeholder={T('myaccount_bio_placeholder')} value={this.state.info.about} max={250} />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button disabled ref={this.submitButton} enter onClick={this.handleEdit.bind(this)}>{T('myaccount_change')}</Button>\n\t\t\t\t\t\t<span className='space' />\n\t\t\t\t\t\t<Button invert onClick={this.handleLogout}>{T('myaccount_logout')}</Button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<h3>{T('myaccount_attach_header')}</h3>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taccount.socials.map(social => [\n\t\t\t\t\t\t\t\t//<h3 key={social+'-header'} style={{margin: '10px 0 5px 0'}}>{capitalize(social)}</h3>,\n\t\t\t\t\t\t\t\t<SocialButton key={social+'-button'} disabled={this.state.info[social]} purpose=\"attach\" social={social} />\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default MyAccountPage;","import React from 'react';\nimport T from '../../Controllers/LanguageController';\nimport RandomFace from '../../Components/Face/Face';\nimport './News.css';\n\nclass NewsPage extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id='news'>\n\t\t\t\t<b><RandomFace /></b>\n\t\t\t\t<p>{T('news_missing')}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewsPage;","import React from 'react';\nimport T from '../../Controllers/LanguageController';\nimport RandomFace from '../../Components/Face/Face';\nimport './Scoreboard.css';\n\nclass ScoreboardPage extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"scoreboard\">\n\t\t\t\t<b><RandomFace /></b>\n\t\t\t\t<p>{T('scoreboard_missing')}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ScoreboardPage;","import React from 'react';\n\nimport RandomFace from '../Components/Face/Face';\nimport Button from '../Components/Button/Button';\n\nimport T from '../Controllers/LanguageController';\n\nexport default function () {\n\treturn (\n\t\t<div style={{\n\t\t\tmaxWidth: 600,\n\t\t\tmargin: '0 auto'\n\t\t}}>\n\t\t\t<br />\n\t\t\t<h1 style={{\n\t\t\t\tcolor: '#B71C1C',\n\t\t\t\tmargin: 0\n\t\t\t}}>\n\t\t\t\t<RandomFace></RandomFace>\n\t\t\t</h1>\n\t\t\t<h2>{T('404_header')}</h2>\n\t\t\t<p>{T('404_text')}</p>\n\t\t\t<Button to=\"/\">{T('404_button')}</Button>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport Link from './../../Components/Link/Link';\nimport UserInfo from './../../Controllers/UserInfoController';\nimport './User.css';\n\nclass User extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {loading: true, info: null};\n\t\tUserInfo.load(this.props.username, info => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tinfo\n\t\t\t});\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={'user'+(this.state.loading?' loading':'')}>\n\t\t\t\t<span \n\t\t\t\t\tclassName='image'\n\t\t\t\t\tstyle={{backgroundImage: (this.state.info ? 'url('+this.state.info.image[64]+')' : '')}}>\n\t\t\t\t</span>\n\t\t\t\t{this.props.me ? \n\t\t\t\t\t<Link to=\"/my-account/\" className='username'>{this.props.username}</Link> : \n\t\t\t\t\t<span className='username'>{this.props.username}</span>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default User;","import React from 'react';\nimport Loading from './../../Components/Loading/Loading';\nimport User from './../../Components/User/User';\nimport Link from './../../Components/Link/Link';\nimport account from './../../Controllers/AccountController';\n\nclass Auth extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet update = () => this.forceUpdate();\n\t\taccount.on('checking', update);\n\t\taccount.on('checked', update);\n\t}\n\n\trender() {\n\t\tif (account.loading)\n\t\t\treturn <Loading />\n\n\t\tif (account.token && account.username && account.verified) {\n\t\t\treturn <User me username={account.username} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Link to=\"/login/\">{ window.T('menu_enter') }</Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Auth;","import React from 'react';\nimport Link from './../../Components/Link/Link';\nimport Auth from './Auth';\nimport './Header.css';\n\nexport default function Header() {\n\treturn (\n\t\t<div id=\"header\">\n\t\t\t<div id=\"title\">bodjo<Link className='version' to={'https://pages.bodjo.net/main.devstatus.' + window.T.lang}>v2.5</Link></div>\n\t\t\t<div id=\"auth\">\n\t\t\t\t<Auth></Auth>\n\t\t\t</div>\n\t\t\t<div id=\"menu\">\n\t\t\t\t<Link to=\"/\">{ window.T('menu_main') }</Link>\n\t\t\t\t{/*<Link to=\"/about/\">про bodjo</Link>*/}\n\t\t\t\t<Link to=\"/news/\">{ window.T('menu_news') }</Link>\n\t\t\t\t<Link to=\"/scoreboard/\">{ window.T('menu_scoreboard') }</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import React from 'react';\nimport Link from '../../Components/Link/Link';\nimport './Footer.css';\n\nexport default function Footer() {\n\tlet langs = [];\n\tfor (let i = 0; i < window.T.langs.length; ++i) {\n\t\tlet lang = window.T.langs[i];\n\t\tlangs.push(<a className={\"link \" + (window.T.lang == lang ? \"active\" : \"\")}\n\t\t\t\t\t  onClick={window.T.updateLang.bind(null, lang)}\n\t\t\t\t\t  key={lang}>\n\t\t\t\t\t\t{ lang.toUpperCase() }\n\t\t\t\t\t</a>);\n\t\tif (i < window.T.langs.length - 1)\n\t\t\tlangs.push(\" / \");\n\t}\n\n\treturn (\n\t\t<div id=\"footer\">\n\t\t\t<div className=\"contacts\">\n\t\t\t\tTelegram: <a href=\"https://t.me/dkaraush\">@dkaraush</a><br />\n\t\t\t\tE-mail: <a href=\"mailto://dkaraush@gmail.com\">dkaraush@gmail.com</a>\n\t\t\t</div>\n\t\t\t<div className=\"lang\">\n\t\t\t\t{langs}\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Index from './Pages/Index/Index';\nimport LoginPage from './Pages/LoginPage/LoginPage';\nimport RegisterPage from './Pages/RegisterPage/RegisterPage';\nimport MyAccountPage from './Pages/MyAccount/MyAccount';\nimport NewsPage from './Pages/News/News';\nimport ScoreboardPage from './Pages/Scoreboard/Scoreboard';\nimport NotFoundPage from './Pages/NotFound';\n\nimport Header from './Parts/Header/Header';\nimport Footer from './Parts/Footer/Footer';\n\nfunction App() {\n  return (\n    <Router>\n      <Header></Header>\n      <div id=\"main\">\n        <Switch>\n          <Route path=\"/\" exact component={Index} />\n          <Route path=\"/news/\" component={NewsPage} />\n          <Route path=\"/scoreboard/\" component={ScoreboardPage} />\n          <Route path=\"/login/\" component={LoginPage} />\n          <Route path=\"/register/\" component={RegisterPage} />\n          <Route path=\"/my-account/\" component={MyAccountPage} />\n\n          <Route path=\"/social-provider/\" component={window.SocialController.provider} />\n\n          <Route component={NotFoundPage} />\n        </Switch>\n      </div>\n      <Footer></Footer>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"./Controllers/LanguageController.js\";\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// window.onerror = alert;"],"sourceRoot":""}