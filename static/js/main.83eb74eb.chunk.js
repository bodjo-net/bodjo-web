(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(25).concat([function(e,t,n){e.exports=n(52)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),s=n.n(r),o=n(13),l=n(12),c=n(1),u=n(2),p=n(4),d=n(3),h=n(5),m=n(6),f=(n(30),{}),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).__to=e.to,Array.isArray(f[e.to])||(f[e.to]=[]),f[e.to].push(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this,t=f[this.props.to].findIndex(function(t){return t==e});t>=0&&f[this.props.to].splice(t,1)}},{key:"onClick",value:function(e){var t=window.location.pathname;for(var n in f)if(n==t||n==e){var a=!0,i=!1,r=void 0;try{for(var s,o=f[n][Symbol.iterator]();!(a=(s=o.next()).done);a=!0){s.value.forceUpdate()}}catch(l){i=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}}this.__to=e}},{key:"render",value:function(){return 0==this.props.to.indexOf("//")||0==this.props.to.indexOf("http://")||0==this.props.to.indexOf("https://")?i.a.createElement("a",{href:this.props.to,className:(this.props.className||"")+" link"},this.props.children):i.a.createElement(o.b,{to:this.props.to,onClick:this.onClick.bind(this,this.props.to),className:"link "+(this.props.className||"")+(window.location.pathname==this.props.to||window.location.pathname==this.__to?" active":"")},this.props.children)}}]),t}(i.a.Component),g=(n(35),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).enterHandler=n.onEnter.bind(Object(m.a)(Object(m.a)(n))),n.disabled=e.disabled||!1,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_down",value:function(e,t){if(!this.disabled){var n=e.getBoundingClientRect(),a=t.clientX-n.left,i=t.clientY-n.top,r=Math.max(Math.sqrt(Math.pow(a,2)+Math.pow(i,2)),Math.sqrt(Math.pow(a-n.width,2)+Math.pow(i,2)),Math.sqrt(Math.pow(a,2)+Math.pow(i-n.height,2)),Math.sqrt(Math.pow(a-n.width,2)+Math.pow(i-n.height,2))),s=document.createElement("div");s.className="ripple",s.style.position="absolute",s.style.transition="all 0.25s cubic-bezier(0.215, 0.61, 0.355, 1)",s.style.borderRadius="50%",s.style.opacity="1",s.style.top=i+"px",s.style.left=a+"px",s.style.width=s.style.height="0px",s.id="s"+Date.now(),setTimeout(function(){s.style.opacity="0.75",s.style.top=i-r+"px",s.style.left=a-r+"px",s.style.width=s.style.height=2*r+"px"},10),e.append(s)}}},{key:"_up",value:function(e,t){var n=e.querySelectorAll(".ripple");if(null!=n)for(var a=function(e){var t=n[e],a=parseInt(t.id.substring(1));Date.now()-a>250?(t.style.opacity="0",setTimeout(t.remove.bind(t),250)):setTimeout(function(){t.style.opacity="0",setTimeout(t.remove.bind(t),250)},250-(Date.now()-a))},i=0;i<n.length;++i)a(i)}},{key:"componentDidMount",value:function(){var e=s.a.findDOMNode(this);e.style.position="relative",e.style.overflow="hidden",this.down=this._down.bind(this,e),this.up=this._up.bind(this,e),e.addEventListener("mousedown",this.down),document.body.addEventListener("mouseup",this.up)}},{key:"componentWillMount",value:function(){this.props.enter&&window.addEventListener("keyup",this.enterHandler)}},{key:"componentWillUnmount",value:function(){this.props.enter&&window.removeEventListener("keyup",this.enterHandler),document.body.removeEventListener("mouseup",this.up)}},{key:"onEnter",value:function(e){13==e.keyCode&&"function"===typeof this.props.onClick&&this.props.onClick()}},{key:"setDisabled",value:function(e){this.disabled=e;var t=s.a.findDOMNode(this),n=t.className.split(" ");if(e&&n.indexOf("disabled")<0)n.push("disabled");else if(!e)for(;n.indexOf("disabled")>=0;)n.splice(n.indexOf("disabled"),1);t.className=n.join(" ")}},{key:"redirect",value:function(e){window.location.href=e}},{key:"render",value:function(){var e=this.props.className||"";return this.props.invert&&(e+=" invert"),(this.disabled||this.props.disabled)&&(this.disabled=this.props.disabled,e+=" disabled"),i.a.createElement("div",{className:e+" button",id:this.props.id,onClick:this.props.to?this.redirect.bind(this,this.props.to):this.props.onClick},this.props.children)}}]),t}(i.a.Component)),b=(n(36),function(e){return i.a.createElement("div",{className:(e.inline?"inline ":"")+"loader"})});n(37);window.faces=["\\(o_o)/","(\u30ce\u0ca0\u76ca\u0ca0)\u30ce\u5f61\u253b\u2501\u253b","(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b","\u30fd(`\u0414\xb4)\uff89","\u30ce( \xba _ \xba\u30ce)","\xac_\xac","\xaf(\xb0_o)/\xaf","\xaf\\_(\u30c4)_/\xaf","\xb0\u0414\xb0","( \ufe36\ufe3f\ufe36)","( .-. )","( .o.)"],window.randomFace=function(){return window.faces[Math.round(Math.random()*(window.faces.length-1))]};var E=100500;window.showDialog=function(e,t,n){var a=document.createElement("div");a.className="dialog",a.style.zIndex=E++;var i=document.createElement("div");i.className="dialog-content";var r=document.createElement("h1");r.innerText=window.randomFace(),i.appendChild(r);var s=document.createElement("h2");s.innerText=e,i.appendChild(s);var o=document.createElement("p");o.innerText=t,i.appendChild(o);var l=document.createElement("span");l.innerText=n,i.appendChild(l),a.appendChild(i),document.body.appendChild(a),document.body.style.overflow="hidden"};var y={SERVER_HOST:null,__query:[],__init:function(){y.GET("https://bodjo.net/SERVER_HOST",function(e,t){e?(y.SERVER_HOST=t,y.__query.length>0&&y.__query.forEach(function(e){return y[e[0]].apply(y,e.slice(1))})):window.showDialog("Obtaining main server hostname error.","https://bodjo.net\nGET /SERVER_HOST/","ERR_SERVER_HOST_MISSING")})},GET:function(e,t,n,a){"object"!==typeof t&&(a=n||!0,n=t),"undefined"===typeof a&&(a=!0);var i=new XMLHttpRequest,r=!1,s=e;if("object"===typeof t){if(null==y.SERVER_HOST)return void y.__query.push(["GET"].concat(Array.prototype.slice.apply(arguments)));r=!0,e=y.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"),s=y.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+("token"==e||"password"==e?"<"+e+">":encodeURIComponent(t[e]))}).join("&")}console.log("[API] GET "+e),i.open("GET",e,!0),i.send(),i.onreadystatechange=function(){if(4===i.readyState)if(200==i.status){var e=i.responseText;if(a)try{e=JSON.parse(e)}catch(t){}n(!0,e)}else r&&window.showDialog("Bad API Response","Received bad HTTP response:\n\nGET "+s+"\n"+i.getAllResponseHeaders()+"\n\n"+i.statusText,"ERR_BAD_API_REQUEST"),console.error("Bad HTTP Response: "+i.statusCode+" - "+i.statusText),n(!1,i)}},POST:function(e,t,n,a,i){"object"!==typeof t&&(i=a||!0,a=n,n=t),"undefined"===typeof i&&(i=!0);var r=new XMLHttpRequest,s=!1,o=e;if("object"===typeof t){if(null==y.SERVER_HOST)return void y.__query.push(["POST"].concat(Array.prototype.slice.apply(arguments)));s=!0,e=y.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"),o=y.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+("token"==e||"password"==e?"<"+e+">":encodeURIComponent(t[e]))}).join("&")}console.log("[API] POST "+e),r.open("POST",e,!0),n(r),r.onreadystatechange=function(){if(4===r.readyState)if(200==r.status){var e=r.responseText;if(i)try{e=JSON.parse(e)}catch(t){}a(!0,e)}else s&&window.showDialog("Bad API Response","Received bad HTTP response:\n\nGET "+o+"\n"+r.getAllResponseHeaders()+"\n\n"+r.statusText,"ERR_BAD_API_REQUEST"),console.error("Bad HTTP Response: "+r.statusCode+" - "+r.statusText),a(!1,r)}}};y.__init(),window.API=y;var k=y,w=n(24),j={data:{},get:function(e){var t=null;if(I(e)?(t=I(e),"undefined"===typeof O(e)&&_(e,t)):O(e)&&(T(e,t=O(e)),T(e,t,{domain:"bodjo.net"})),null!=t)try{t=JSON.parse(t)}catch(n){}else if("undefined"!==typeof j.data[e])return j.data[e];return t},set:function(e,t){var n=JSON.stringify(t);_(e,n),T(e,n),T(e,n,{domain:"bodjo.net"}),j.data[e]=t},remove:function(e){!function(e){T(e,"",{"max-age":-1})}(e),localStorage.removeItem(e),delete j.data[e]}};function O(e){try{return localStorage.getItem(e)}catch(t){return null}}function _(e,t){try{return localStorage.setItem(e,t)}catch(n){return null}}function I(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function T(e,t,n){n=Object(w.a)({path:"/"},n);var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var i in n){a+="; "+i;var r=n[i];!0!==r&&(a+="="+r)}document.cookie=a}window.Storage=j;var N=j,S=function(){function e(){Object(c.a)(this,e),this.EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.__listeners={},this.token=N.get("bodjo-token"),this.username=N.get("bodjo-username"),this.loading=!1,this.verified=!1,null!=this.token&&"string"===typeof this.token&&this.check()}return Object(u.a)(e,[{key:"on",value:function(e,t){"undefined"===typeof this.__listeners[e]&&(this.__listeners[e]=[]),this.__listeners[e].push(t)}},{key:"emit",value:function(e){if("undefined"!==typeof this.__listeners[e]){var t=Array.prototype.slice.apply(arguments).slice(1),n=!0,a=!1,i=void 0;try{for(var r,s=this.__listeners[e][Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var o=r.value;o.apply(o,t)}}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}},{key:"login",value:function(e,t,n){var a=this;this.loading=!0,this.emit("checking"),k.GET("/account/login",{username:e,password:t},function(t,i){a.loading=!1,a.verified=t&&"ok"===i.status,a.verified&&(a.token=i.token.value,a.username=e,N.set("bodjo-token",a.token),N.set("bodjo-username",a.username)),a.emit("checked",a.verified),n(a.verified,i.errParameter,i)})}},{key:"register",value:function(e,t,n,a){var i=this;this.loading=!0,this.emit("checking");var r={username:e,password:t};"undefined"!==typeof n&&n.length>0&&(r.email=n),k.GET("/account/register",r,function(e,t){i.loading=!1,i.verified=e&&"ok"===t.status,i.verified&&(i.token=t.token.value,i.username=t.token.username,N.set("bodjo-token",i.token),N.set("bodjo-username",i.username)),i.emit("checked",i.verified),a(i.verified,t.errParameter,t)})}},{key:"uploadImage",value:function(e,t){if(this.verified){k.POST("/account/uploadImage",{token:this.token,ext:{"image/png":"png","image/jpeg":"jpeg","image/jpg":"jpg","image/gif":"gif"}[e.type]},function(t){var n=new FormData;n.append("image",e),t.send(n)},function(e,n){t(e&&"ok"==n.status,n)})}}},{key:"logout",value:function(){var e=this;this.token&&this.verified&&(this.loading=!0,k.GET("/account/logout",{token:this.token},function(t,n){e.loading=!1,e.token=null,e.verified=!1,t&&"ok"==n.status&&console.log("token removed successfully"),e.emit("checked",e.verified)})),N.remove("bodjo-token"),N.remove("bodjo-username")}},{key:"edit",value:function(e,t,n){var a={token:this.token};e.length>0&&(a.email=e),t.length>0&&(a.about=t),k.GET("/account/edit",a,function(e,t){n(e&&"ok"===t.status)})}},{key:"check",value:function(){var e=this;this.loading=!0,this.emit("checking"),k.GET("/account/check",{token:this.token},function(t,n){e.loading=!1,e.verified=t&&"ok"===n.status,n.token&&n.token.username&&(e.username=n.token.username),e.verified&&(N.set("bodjo-token",e.token),N.set("bodjo-username",e.username)),e.emit("checked",e.verified)})}}]),e}(),x=window.account=new S,R=(n(38),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).gameServers={},n.state={loading:!0};var a=Object(m.a)(Object(m.a)(n));function i(e,t,n){var i={},r=!0,s=!1,o=void 0;try{for(var l,c=n.servers[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value,p=a.gameServers[u.name]=new C(u,function(e){var t={};t[e.name]=e,a.setState(t)});p.obtain(),i[u.name]=p.info()}}catch(d){s=!0,o=d}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}i.loading=!1,t?e.setState(i):e.state=i}if(window.__gamesListCache)i(Object(m.a)(Object(m.a)(n)),!1,window.__gamesListCache);else{var r={};x.token&&x.verified&&(r.token=x.token),k.GET("/games/info",r,function(e,t){e&&"ok"===t.status&&(i(Object(m.a)(Object(m.a)(n)),!0,t),window.__gamesListCache=t)})}return n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){for(var e in this.gameServers)this.gameServers[e].destroy();this.state={}}},{key:"render",value:function(){var e=[];if(!this.state.loading){var t={};for(var n in this.state)if("loading"!=n){var a=this.state[n].game;"undefined"===typeof t[a]&&(t[a]=[]),t[a].push(this.state[n])}for(var r in t){var s=[],o=!0,l=!1,c=void 0;try{for(var u,p=t[r][Symbol.iterator]();!(o=(u=p.next()).done);o=!0){var d=u.value;s.push(i.a.createElement("div",{className:"game-server",key:d.name},i.a.createElement("div",{className:"info"},i.a.createElement("span",{className:"status "+(d.status?"enabled":"disabled")}),i.a.createElement("span",{className:"players-count"},d.status?i.a.createElement("span",null,"[",i.a.createElement("b",null,d.players.value),"/",d.players.max,"]"):i.a.createElement("span",null,"[",i.a.createElement("b",{className:"loading"},i.a.createElement("span",null,"-/|\\")),"]")),i.a.createElement("span",{className:"name"},d.name)),i.a.createElement("div",{className:"go"+(x.verified?"":" disabled")},i.a.createElement("div",null,i.a.createElement("span",{className:"ping"},(d.ping||0).toFixed(1),"ms"),i.a.createElement(g,{disabled:!d.status||!x.verified,to:d.link},"\u0418\u0433\u0440\u0430\u0442\u044c"),i.a.createElement("span",{className:"label"},"\u043d\u0443\u0436\u043d\u043e ",i.a.createElement(v,{to:"/login/"},"\u0432\u043e\u0439\u0442\u0438"))),i.a.createElement(g,{invert:!0,disabled:!d.status,to:d.spectateLink},"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u044c"))))}}catch(h){l=!0,c=h}finally{try{o||null==p.return||p.return()}finally{if(l)throw c}}e.unshift(i.a.createElement("div",{className:"game",key:r,style:{backgroundImage:"url(assets/games/"+r+"/bg.png)"}},i.a.createElement("h3",null,r),s,i.a.createElement("div",{className:"grey"})))}}return 0==e.length&&e.push(i.a.createElement("div",{className:"no-games",key:"no-games"},i.a.createElement("h3",null,window.randomFace()),i.a.createElement("span",null,"\u0432\u0441\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c! \u0433\u0434\u0435 \u0438\u0433\u0440\u044b\u044b?"))),i.a.createElement("div",{className:"section games"},i.a.createElement("h2",null,i.a.createElement("img",{src:"/assets/games.png"}),"\u0418\u0433\u0440\u044b"),this.state.loading?i.a.createElement(b,null):e)}}]),t}(i.a.Component)),C=function(){function e(t,n){Object(c.a)(this,e),this.onUpdate=n,this.host=t.host,this.apihost=t.apihost,this.name=t.name,this.game=t.game,this.status=!1,this.link=t.host,this.link.indexOf("http://")<0&&this.link.indexOf("https://")<0&&(this.link="http://"+this.link),this.spectateLink=this.link+"/spectate",this.loading=!0,this.pings=[],this.pingValue=null,this.players={value:0,max:0}}return Object(u.a)(e,[{key:"update",value:function(){this.onUpdate(this.info())}},{key:"info",value:function(){return{name:this.name,game:this.game,host:this.host,link:this.link,ping:this.pingValue,status:this.status,players:this.players,spectateLink:this.spectateLink}}},{key:"destroy",value:function(){this.pingTimeout&&clearTimeout(this.pingTimeout)}},{key:"obtain",value:function(){this.loadInfo(),this.pingEach(10)}},{key:"loadInfo",value:function(e){var t=this;k.GET(this.apihost+"/status",function(n,a){if(n)t.players.value=a.playersCount,t.players.max=a.maxPlayersCount,t.loading=!1,t.status=!0,t.update();else{var i=t.status;t.status=!1,i!=t.status&&t.update()}"function"===typeof e&&e()})}},{key:"ping",value:function(e){var t=this,n=Date.now();k.GET(this.apihost+"/ping",function(a,i){var r=Date.now(),s=parseInt(i);if(a&&!isNaN(s))t.pings.push(r-n),t.pingValue=t.pings.reduce(function(e,t){return e+t})/t.pings.length,t.status=!0,t.update();else{var o=t.status;t.status=!1,o!=t.status&&t.update()}"function"===typeof e&&e()},!1)}},{key:"pingEach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n!=e&&this.ping(function(){t.pingTimeout=setTimeout(t.pingEach.bind(t,e,n+1),1e3*n)})}}]),e}(),M=R,U=(n(39),2),A=function(e){function t(e){var n;function a(e,t,n){var a=n.pages,i=!0,r=!1,s=void 0;try{for(var o,l=a[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value;c.html=window.parseBodjoPage(c.preview)+('<span class="closer"></span><a class="link more" href="https://pages.bodjo.net/#'+c.id+'">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...</a>')}}catch(p){r=!0,s=p}finally{try{i||null==l.return||l.return()}finally{if(r)throw s}}var u={news:a,newsTotal:n.total,loading:!1};t?e.setState(u):e.state=u}return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={news:[],newsTotal:0,loading:!0},window.__newsListCache?a(Object(m.a)(Object(m.a)(n)),!1,window.__newsListCache):k.GET("/pages/search",{q:"news.",preview:1,order:!1,count:U},function(e,t){e&&"ok"===t.status&&(a(Object(m.a)(Object(m.a)(n)),!0,t),window.__newsListCache=t)}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"section news"},i.a.createElement("h2",null,i.a.createElement("img",{src:"/assets/news.png"}),"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),this.state.loading?i.a.createElement(b,null):[this.state.news.map(function(e){return i.a.createElement("div",{key:e.id,className:"news-piece bodjo-page",dangerouslySetInnerHTML:{__html:e.html}})}),this.state.newsTotal>U?i.a.createElement(v,{to:"/news/"},"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."):""])}}]),t}(i.a.Component),D=(n(40),function(e){function t(e){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return setTimeout(window.loadBodjoPage.bind(null,"main.about.ru","#index .whatisit",{signature:!1,cache:!0}),1),i.a.createElement("div",{id:"index"},i.a.createElement("div",{className:"left"},i.a.createElement("div",{className:"section whatisit"}),i.a.createElement(M,null)),i.a.createElement("div",{className:"right"},i.a.createElement(A,null)))}}]),t}(i.a.Component)),P=(n(41),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).hasError=!1,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"value",value:function(){return s.a.findDOMNode(this).value}},{key:"error",value:function(){var e=this,t=s.a.findDOMNode(this);this.hasError||(this.hasError=!0,t.className=(this.props.className||"")+" error",setTimeout(function(){t.className=e.props.className||"",e.hasError=!1},500))}},{key:"render",value:function(){return i.a.createElement("input",{type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,id:this.props.id,className:this.props.className,onChange:this.props.onChange,onKeyUp:this.props.onKeyUp,defaultValue:this.props.value})}}]),t}(i.a.Component)),q=(n(42),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).usernameInput=i.a.createRef(),n.passwordInput=i.a.createRef();var a=function(){return n.forceUpdate()};return x.on("checking",a),x.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(){var e=this,t=this.usernameInput.current.value(),n=this.passwordInput.current.value();0==t.length&&this.usernameInput.current.error(),0==n.length&&this.passwordInput.current.error(),t.length>0&&n.length>0&&x.login(t,n,function(t,n,a){("username"===n||"fail"==a.status&&1==a.errCode)&&e.usernameInput.current.error(),("password"===n||"fail"==a.status&&1==a.errCode)&&e.passwordInput.current.error()})}},{key:"render",value:function(){return x.verified?i.a.createElement(l.a,{to:"/"}):i.a.createElement("div",{id:"login-page-wrapper"},i.a.createElement("div",{id:"login-page"},i.a.createElement("h3",null,"\u0412\u043e\u0439\u0442\u0438"),i.a.createElement("div",{className:"inputs"},i.a.createElement(P,{ref:this.usernameInput,placeholder:"\u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c",type:"text",className:"username"}),i.a.createElement(P,{ref:this.passwordInput,placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"password"})),x.loading?i.a.createElement(b,{inline:!0}):i.a.createElement(g,{enter:!0,invert:!0,onClick:this.onSubmit.bind(this)},"Submit")))}}]),t}(i.a.Component)),G=(n(43),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).usernameInput=i.a.createRef(),n.passwordInput=i.a.createRef(),n.repeatPasswordInput=i.a.createRef(),n.emailInput=i.a.createRef();var a=function(){return n.forceUpdate()};return x.on("checking",a),x.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(){var e=this,t=this.usernameInput.current.value(),n=this.passwordInput.current.value(),a=this.repeatPasswordInput.current.value(),i=this.emailInput.current.value();t.length<3||t.length>15||/^bot.+$/g.test(t)?this.usernameInput.current.error():n.length<6||n.length>100?this.passwordInput.current.error():n!==a?(this.passwordInput.current.error(),this.repeatPasswordInput.current.error()):i.length>0&&!x.EMAIL_REGEX.test(i)?this.emailInput.current.error():x.register(t,n,i,function(t,n){"username"===n&&e.usernameInput.current.error(),"password"===n&&e.passwordInput.current.error(),"email"===n&&e.emailInput.current.error()})}},{key:"render",value:function(){return x.verified?i.a.createElement(l.a,{to:"/"}):i.a.createElement("div",{id:"register-page-wrapper"},i.a.createElement("div",{id:"register-page"},i.a.createElement("h3",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),i.a.createElement("div",{className:"inputs"},i.a.createElement("div",null,i.a.createElement(P,{ref:this.usernameInput,placeholder:"\u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c",type:"text",className:"username"}),i.a.createElement("span",null,i.a.createElement("b",null,"\u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439"),i.a.createElement("br",null),i.a.createElement("b",null,"\u0434\u043b\u0438\u043d\u0430"),": 3-15 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e)",i.a.createElement("br",null),i.a.createElement("b",null,"\u0441\u0438\u043c\u0432\u043e\u043b\u044b"),': \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b (\u043d\u0438\u0436\u043d\u0435\u0433\u043e \u0438 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430), \u0446\u0438\u0444\u0440\u044b, \u0441\u0438\u043c\u0432\u043e\u043b "_"',i.a.createElement("br",null),i.a.createElement("b",null,"\u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d"),": bot \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043d\u0438\u043a\u0430")),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(P,{ref:this.passwordInput,placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"password"}),i.a.createElement(P,{ref:this.repeatPasswordInput,placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c (\u043f\u043e\u0432\u0442\u043e\u0440)",type:"password",className:"password-repeat"})),i.a.createElement("span",null,i.a.createElement("b",null,"\u0434\u043b\u0438\u043d\u0430"),": 6-100 (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e)")),i.a.createElement("div",null,i.a.createElement(P,{ref:this.emailInput,placeholder:"\u044d\u043b. \u0430\u0434\u0440\u0435\u0441 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",type:"text",className:"email"}),i.a.createElement("span",null,i.a.createElement("b",null,"\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),i.a.createElement("br",null),i.a.createElement("b",null,"\u0448\u0430\u0431\u043b\u043e\u043d"),": \u044d\u043b. \u0430\u0434\u0440\u0435\u0441"))),x.loading?i.a.createElement(b,{inline:!0}):i.a.createElement(g,{enter:!0,invert:!0,onClick:this.onSubmit.bind(this)},"Submit")))}}]),t}(i.a.Component)),H=window.UserInfo={cache:{},__query:[],__callbacks:[],__lastQueryAppend:0,load:function(e,t){if(H.cache[e])t(H.cache[e]);else{H.__query.length;H.__query.push(e),H.__callbacks.push(t);var n=H.__lastQueryAppend=Date.now();setTimeout(function(){n==H.__lastQueryAppend&&H.__query.length>0&&k.GET("/account/info",{usernames:H.__query},function(n,a){for(var i in a.result)H.cache[i]=a.result[i],e==i&&t(H.cache[i]);H.__query=[]})},50)}},my:function(e,t){k.GET("/account/info",{token:e},function(e,n){e&&"ok"===n.status&&n.result.length>0&&t(n.result[0])})}},L=H,V=(n(44),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).hasError=!1,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"value",value:function(){return s.a.findDOMNode(this).querySelector("textarea").value}},{key:"error",value:function(){var e=this;if(!this.hasError){this.hasError=!0;var t=s.a.findDOMNode(this).querySelector("textarea");t.className=(this.props.className||"")+" error",setTimeout(function(){t.className=e.props.className||"",e.hasError=!1},500)}}},{key:"onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e);var t=s.a.findDOMNode(this),n=t.querySelector("textarea"),a=t.querySelector("span");this.props.max?(a.innerText=n.value.length+" ("+this.props.max+")",a.className=this.props.max<n.value.length?"error":""):a.innerText=n.value.length}},{key:"render",value:function(){return i.a.createElement("div",{className:"textarea"},i.a.createElement("textarea",{type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,id:this.props.id,className:this.props.className,onChange:this.props.onChange,onKeyUp:this.onKeyUp.bind(this),defaultValue:this.props.value}),i.a.createElement("span",null,(this.props.value||"").length+(this.props.max?" ("+this.props.max+")":"")))}}]),t}(i.a.Component)),B=(n(45),[{string:["\u0433\u043e\u0434","\u0433\u043e\u0434\u0430","\u0433\u043e\u0434\u0430","\u0433\u043e\u0434\u0430","\u043b\u0435\u0442"],value:31536e6},{string:["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"],value:2592e6},{string:["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u044f","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"],value:864e5},{string:["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"],value:36e5},{string:["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"],value:6e4},{string:["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"],value:1e3}]);function K(e){if(e<20)return e;var t=e%10;return(e-t)/10%10>=2&&t>0?t:e}var F=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).submitButton=i.a.createRef(),n.aboutInput=i.a.createRef(),n.emailInput=i.a.createRef(),n.state={loading:!0,info:null},n._ismounted=!1;var a=function(){return n.forceUpdate()};return x.on("checking",a),x.on("checked",a),L.my(x.token,function(e){var t={loading:!1,info:e};n._ismounted?n.setState(t):n.state=t}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"handleLogout",value:function(){x.logout()}},{key:"handleEdit",value:function(){var e=this,t=this.emailInput.current.value(),n=this.aboutInput.current.value();t.length>0&&!x.EMAIL_REGEX.test(t)?this.emailInput.current.error():n.length>250?this.aboutInput.current.error():x.edit(t,n,function(){var a=e.state.info;a.email=t,a.about=n,e.setState({info:a}),e.update()})}},{key:"handleImageUpload",value:function(e){var t=this;e.persist();var n=e.target.files[0];"object"===typeof n&&x.uploadImage(n,function(e,n){if(e&&"ok"==n.status){var a=t.state.info;a.image=n,t.setState({imaget:Date.now(),info:a})}else alert(n.errText)})}},{key:"update",value:function(){this.submitButton.current.setDisabled(this.aboutInput.current.value()==this.state.info.about&&this.emailInput.current.value()==this.state.info.email)}},{key:"getTimeString",value:function(){for(var e,t,n,a="",i=Date.now()-this.state.info["registration-time"],r=0;r<B.length;++r){var s=Math.floor(i/B[r].value);s<1||(a+=s+" "+B[r].string[(e=K(s),t=1,n=B[r].string.length,Math.min(Math.max(e,t),n)-1)]+" ",i-=s*B[r].value)}return a}},{key:"render",value:function(){if(!x.loading&&(!x.verified||!x.token))return i.a.createElement(l.a,{to:"/login/"});if(x.loading||this.state.loading)return i.a.createElement(b,null);var e=this.timeString||(this.timeString=this.getTimeString());return i.a.createElement("div",{id:"my-account-wrapper"},i.a.createElement("div",{id:"my-account"},i.a.createElement("span",{id:"user-image",style:{backgroundImage:"url("+this.state.info.image[128]+(this.state.imaget?"?"+this.state.imaget:"")+")"}},i.a.createElement("span",{className:"upload"}),i.a.createElement("input",{onChange:this.handleImageUpload.bind(this),type:"file",accept:".png,.jpg,.jpeg,.gif"})),i.a.createElement("div",{id:"user-info"},i.a.createElement("h1",null,this.state.info.username),i.a.createElement("p",{id:"user-time"},"\u0432 bodjo \u0443\u0436\u0435 ",e),i.a.createElement("br",null),i.a.createElement(P,{ref:this.emailInput,onKeyUp:this.update.bind(this),onChange:this.update.bind(this),type:"text",placeholder:"\u042d\u043b. \u0430\u0434\u0440\u0435\u0441",value:this.state.info.email}),i.a.createElement(V,{ref:this.aboutInput,onKeyUp:this.update.bind(this),onChange:this.update.bind(this),type:"text",placeholder:"\u041e \u0441\u0435\u0431\u0435",value:this.state.info.about,max:250}),i.a.createElement("br",null),i.a.createElement(g,{disabled:!0,ref:this.submitButton,enter:!0,onClick:this.handleEdit.bind(this)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),i.a.createElement("span",{className:"space"}),i.a.createElement(g,{invert:!0,onClick:this.handleLogout},"\u0412\u044b\u0439\u0442\u0438"))))}}]),t}(i.a.Component),J=(n(46),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"news"},i.a.createElement("b",null,window.randomFace()),i.a.createElement("p",null,"\u043d\u0443, \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442..."))}}]),t}(i.a.Component)),X=(n(47),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"scoreboard"},i.a.createElement("b",null,window.randomFace()),i.a.createElement("p",null,"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442\u0443"))}}]),t}(i.a.Component)),Q=(n(48),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={loading:!0,info:null},L.load(n.props.username,function(e){n.setState({loading:!1,info:e})}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"user"+(this.state.loading?" loading":"")},i.a.createElement("span",{className:"image",style:{backgroundImage:this.state.info?"url("+this.state.info.image[64]+")":""}}),this.props.me?i.a.createElement(v,{to:"/my-account/",className:"username"},this.props.username):i.a.createElement("span",{className:"username"},this.props.username))}}]),t}(i.a.Component)),W=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(p.a)(this,Object(d.a)(t).call(this,e));var a=function(){return n.forceUpdate()};return x.on("checking",a),x.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return x.loading?i.a.createElement(b,null):x.token&&x.username&&x.verified?i.a.createElement(Q,{me:!0,username:x.username}):i.a.createElement("div",null,i.a.createElement(v,{to:"/login/"},"\u0432\u043e\u0439\u0442\u0438")," ",i.a.createElement("span",null,"/")," ",i.a.createElement(v,{to:"/register/"},"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))}}]),t}(i.a.Component);n(49);function z(){return i.a.createElement("div",{id:"header"},i.a.createElement("div",{id:"title"},"bodjo",i.a.createElement(v,{className:"version",to:"https://pages.bodjo.net/#main.devstatus.ru"},"v2.0")),i.a.createElement("div",{id:"auth"},i.a.createElement(W,null)),i.a.createElement("div",{id:"menu"},i.a.createElement(v,{to:"/"},"\u0433\u043b\u0430\u0432\u043d\u0430\u044f"),i.a.createElement(v,{to:"/news/"},"\u043d\u043e\u0432\u043e\u0441\u0442\u0438"),i.a.createElement(v,{to:"/scoreboard/"},"\u0442\u0430\u0431\u043b\u0438\u0446\u0430")))}n(50);function $(){return i.a.createElement("div",{id:"footer"},i.a.createElement("div",{className:"contacts"},"Telegram: ",i.a.createElement("a",{href:"https://t.me/dkaraush"},"@dkaraush"),i.a.createElement("br",null),"E-mail: ",i.a.createElement("a",{href:"mailto://dkaraush@gmail.com"},"dkaraush@gmail.com")),i.a.createElement("div",{className:"love"},i.a.createElement("p",null,"made with <3")))}var Z=function(){return i.a.createElement(o.a,null,i.a.createElement(z,null),i.a.createElement("div",{id:"main"},i.a.createElement(l.b,{path:"/",exact:!0,component:D}),i.a.createElement(l.b,{path:"/news/",component:J}),i.a.createElement(l.b,{path:"/scoreboard/",component:X}),i.a.createElement(l.b,{path:"/login/",component:q}),i.a.createElement(l.b,{path:"/register/",component:G}),i.a.createElement(l.b,{path:"/my-account/",component:F})),i.a.createElement($,null))};n(51);s.a.render(i.a.createElement(Z,null),document.getElementById("root"))}]),[[25,1,2]]]);
//# sourceMappingURL=main.83eb74eb.chunk.js.map