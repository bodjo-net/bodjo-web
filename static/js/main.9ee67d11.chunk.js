(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(19).concat([function(e){e.exports={en:{menu_main:"main",menu_news:"news",menu_scoreboard:"scoreboard",menu_login:"login",menu_register:"register",tab_games:"Games",tab_news:"News",news_moreinfo:"More info...",news_morenews:"More news...",game_play:"PLAY",game_spectate:"SPECTATE",game_shouldlogin1:"must",game_shouldlogin2:"login",login_header:"Login",login_username_placeholder:"username",login_password_placeholder:"password",login_submit:"SUBMIT",myaccount_usertime:"has been a bodjo user for ",myaccount_usertime_ranges:[{string:["year","years"],value:31536e6},{string:["month","months"],value:2592e6},{string:["day","days"],value:864e5},{string:["hour","hours"],value:36e5},{string:["minute","minutes"],value:6e4},{string:["second","seconds"],value:1e3}],myaccount_usertime_ranges_countlastnumber:!1,myaccount_email_placeholder:"E-mail",myaccount_bio_placeholder:"Bio",myaccount_change:"UPDATE",myaccount_logout:"LOGOUT",register_header:"Registration",register_username_placeholder:"username",register_username_rules:'<b>unique</b><br><b>length</b>: [3, 15]<br><b>symbols</b>: A-Z, a-z, 0-9, -, _<br><b>forbidden template</b>: "bot" at the start',register_password_placeholder:"password",register_password_repeat_placeholder:"password (again)",register_password_rules:"<b>length</b>: [6, 100]",register_email_placeholder:"e-mail (optional)",register_email_rules:"<b>optional</b><br><b>template</b>: e-mail",register_submit:"SUBMIT",news_missing:"will be available soon ;/",scoreboard_missing:"oops, it is not ready"},ru:{menu_main:"\u0433\u043b\u0430\u0432\u043d\u0430\u044f",menu_news:"\u043d\u043e\u0432\u043e\u0441\u0442\u0438",menu_scoreboard:"\u0442\u0430\u0431\u043b\u0438\u0446\u0430",menu_login:"\u0432\u043e\u0439\u0442\u0438",menu_register:"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",tab_games:"\u0418\u0433\u0440\u044b",tab_news:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",news_moreinfo:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...",news_morenews:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439...",game_play:"\u0418\u0413\u0420\u0410\u0422\u042c",game_spectate:"\u041d\u0410\u0411\u041b\u042e\u0414\u0410\u0422\u042c",game_shouldlogin1:"\u043d\u0443\u0436\u043d\u043e",game_shouldlogin2:"\u0432\u043e\u0439\u0442\u0438",login_header:"\u0412\u0445\u043e\u0434",login_username_placeholder:"\u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c",login_password_placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",login_submit:"\u0412\u043e\u0439\u0442\u0438",myaccount_usertime:"\u0432 bodjo \u0443\u0436\u0435 ",myaccount_usertime_ranges:[{string:["\u0433\u043e\u0434","\u0433\u043e\u0434\u0430","\u0433\u043e\u0434\u0430","\u0433\u043e\u0434\u0430","\u043b\u0435\u0442"],value:31536e6},{string:["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"],value:2592e6},{string:["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u044f","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"],value:864e5},{string:["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"],value:36e5},{string:["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"],value:6e4},{string:["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"],value:1e3}],myaccount_usertime_ranges_countlastnumber:!0,myaccount_email_placeholder:"\u042d\u043b. \u0430\u0434\u0440\u0435\u0441",myaccount_bio_placeholder:"\u041e \u0441\u0435\u0431\u0435",myaccount_change:"\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c",myaccount_logout:"\u0412\u042b\u0419\u0422\u0418",register_header:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",register_username_placeholder:"\u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c",register_username_rules:'<b>\u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439</b><br><b>\u0434\u043b\u0438\u043d\u0430</b>: [3, 15]<br><b>\u0441\u0438\u043c\u0432\u043e\u043b\u044b</b>: A-Z, a-z, 0-9, -, _<br><b>\u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d</b>: "bot" \u0432 \u043d\u0430\u0447\u0430\u043b\u0435',register_password_placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",register_password_repeat_placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c (\u043f\u043e\u0432\u0442\u043e\u0440)",register_password_rules:"<b>\u0434\u043b\u0438\u043d\u0430</b>: [6, 100]",register_email_placeholder:"\u044d\u043b. \u0430\u0434\u0440\u0435\u0441 (\u043f\u043e \u0436\u0435\u043b\u0430\u043d\u0438\u044e)",register_email_rules:"<b>\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e</b><br><b>\u0448\u0430\u0431\u043b\u043e\u043d</b>: \u044d\u043b. \u0430\u0434\u0440\u0435\u0441",register_submit:"\u0417\u0410\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0418\u0420\u041e\u0412\u0410\u0422\u042c\u0421\u042f",news_missing:"\u0435\u0449\u0435 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u043e ;/",scoreboard_missing:"\u0443\u043f\u0441, \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c..."}}},,,,,,,function(e,t,n){e.exports=n(54)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),s=n.n(i),o=n(13),l=n(12),c=n(1),u=n(2),m=n(4),d=n(3),h=n(5),p=n(6),f=(n(31),{}),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).__to=e.to,Array.isArray(f[e.to])||(f[e.to]=[]),f[e.to].push(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this,t=f[this.props.to].findIndex(function(t){return t==e});t>=0&&f[this.props.to].splice(t,1)}},{key:"onClick",value:function(e){var t=window.location.pathname;for(var n in f)if(n==t||n==e){var a=!0,r=!1,i=void 0;try{for(var s,o=f[n][Symbol.iterator]();!(a=(s=o.next()).done);a=!0){s.value.forceUpdate()}}catch(l){r=!0,i=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}}this.__to=e}},{key:"render",value:function(){return 0==this.props.to.indexOf("//")||0==this.props.to.indexOf("http://")||0==this.props.to.indexOf("https://")?r.a.createElement("a",{href:this.props.to,className:(this.props.className||"")+" link"},this.props.children):r.a.createElement(o.b,{to:this.props.to,onClick:this.onClick.bind(this,this.props.to),className:"link "+(this.props.className||"")+(window.location.pathname==this.props.to||window.location.pathname==this.__to?" active":"")},this.props.children)}}]),t}(r.a.Component),v=(n(36),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).enterHandler=n.onEnter.bind(Object(p.a)(Object(p.a)(n))),n.state={disabled:e.disabled},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_down",value:function(e,t){if(!this.state.disabled){var n=e.getBoundingClientRect(),a=t.clientX-n.left,r=t.clientY-n.top,i=Math.max(Math.sqrt(Math.pow(a,2)+Math.pow(r,2)),Math.sqrt(Math.pow(a-n.width,2)+Math.pow(r,2)),Math.sqrt(Math.pow(a,2)+Math.pow(r-n.height,2)),Math.sqrt(Math.pow(a-n.width,2)+Math.pow(r-n.height,2))),s=document.createElement("div");s.className="ripple",s.style.position="absolute",s.style.transition="all 0.25s cubic-bezier(0.215, 0.61, 0.355, 1)",s.style.borderRadius="50%",s.style.opacity="1",s.style.top=r+"px",s.style.left=a+"px",s.style.width=s.style.height="0px",s.id="s"+Date.now(),setTimeout(function(){s.style.opacity="0.75",s.style.top=r-i+"px",s.style.left=a-i+"px",s.style.width=s.style.height=2*i+"px"},10),e.append(s)}}},{key:"_up",value:function(e,t){var n=e.querySelectorAll(".ripple");if(null!=n)for(var a=function(e){var t=n[e],a=parseInt(t.id.substring(1));Date.now()-a>250?(t.style.opacity="0",setTimeout(t.remove.bind(t),250)):setTimeout(function(){t.style.opacity="0",setTimeout(t.remove.bind(t),250)},250-(Date.now()-a))},r=0;r<n.length;++r)a(r)}},{key:"componentDidMount",value:function(){var e=s.a.findDOMNode(this);e.style.position="relative",e.style.overflow="hidden",this.down=this._down.bind(this,e),this.up=this._up.bind(this,e),e.addEventListener("mousedown",this.down),document.body.addEventListener("mouseup",this.up)}},{key:"componentWillMount",value:function(){this.props.enter&&window.addEventListener("keyup",this.enterHandler)}},{key:"componentWillUnmount",value:function(){this.props.enter&&window.removeEventListener("keyup",this.enterHandler),document.body.removeEventListener("mouseup",this.up)}},{key:"componentWillReceiveProps",value:function(e){e.disabled!==this.state.disabled&&this.setState({disabled:e.disabled})}},{key:"onEnter",value:function(e){13==e.keyCode&&"function"===typeof this.props.onClick&&this.props.onClick()}},{key:"redirect",value:function(e){window.location.href=e}},{key:"render",value:function(){var e=this.props.className||"";return this.props.invert&&(e+=" invert"),this.state.disabled&&(e+=" disabled"),r.a.createElement("div",{className:e+" button",id:this.props.id,onClick:this.props.to?this.redirect.bind(this,this.props.to):this.props.onClick},this.props.children)}}]),t}(r.a.Component)),b=(n(37),function(e){return r.a.createElement("div",{className:(e.inline?"inline ":"")+"loader"})});n(38);window.randomFace=function(){};var y=100500;window.showDialog=function(e,t,n){var a=document.createElement("div");a.className="dialog",a.style.zIndex=y++;var r=document.createElement("div");r.className="dialog-content";var i=document.createElement("h1");i.innerHTML=window.randomFace("html"),r.appendChild(i);var s=document.createElement("h2");s.innerText=e,r.appendChild(s);var o=document.createElement("p");if(o.innerText=t,r.appendChild(o),n){var l=document.createElement("pre");l.innerText=n,r.appendChild(l)}a.appendChild(r),document.body.appendChild(a),document.body.style.overflow="hidden"};var _={SERVER_HOST:null,__query:[],__init:function(){_.GET("https://bodjo.net/SERVER_HOST",function(e,t){e?(_.SERVER_HOST=t,_.__query.length>0&&_.__query.forEach(function(e){return _[e[0]].apply(_,e.slice(1))})):window.showDialog("Tried to obtain server's hostname.","https://bodjo.net\nGET /SERVER_HOST/")})},GET:function(e,t,n,a){"object"!==typeof t&&(a=n||!0,n=t),"undefined"===typeof a&&(a=!0);var r=new XMLHttpRequest,i=!1,s=e;if("object"===typeof t){if(null==_.SERVER_HOST)return void _.__query.push(["GET"].concat(Array.prototype.slice.apply(arguments)));i=!0,s=_.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+("token"==e||"password"==e?"<"+e+">":encodeURIComponent(t[e]))}).join("&"),e=_.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}console.log("[API] GET "+e),r.open("GET",e,!0),r.send(),r.onreadystatechange=function(){if(4===r.readyState)if(200==r.status){var e=r.responseText;if(a)try{e=JSON.parse(e)}catch(t){}n(!0,e)}else i&&window.showDialog("Server, where are you?","Tried to make request:\n\nGET "+s+"\n"+r.getAllResponseHeaders()+"\n\n"+r.statusText),console.error("Bad HTTP Response: "+r.statusCode+" - "+r.statusText),n(!1,r)}},POST:function(e,t,n,a,r){"object"!==typeof t&&(r=a||!0,a=n,n=t),"undefined"===typeof r&&(r=!0);var i=new XMLHttpRequest,s=!1,o=e;if("object"===typeof t){if(null==_.SERVER_HOST)return void _.__query.push(["POST"].concat(Array.prototype.slice.apply(arguments)));s=!0,o=_.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+("token"==e||"password"==e?"<"+e+">":encodeURIComponent(t[e]))}).join("&"),e=_.SERVER_HOST+e+"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}console.log("[API] POST "+e),i.open("POST",e,!0),n(i),i.onreadystatechange=function(){if(4===i.readyState)if(200==i.status){var e=i.responseText;if(r)try{e=JSON.parse(e)}catch(t){}a(!0,e)}else s&&window.showDialog("Server, where are you?","Tried to make request:\n\nGET "+o+"\n"+i.getAllResponseHeaders()+"\n\n"+i.statusText),console.error("Bad HTTP Response: "+i.statusCode+" - "+i.statusText),a(!1,i)}}};_.__init(),window.API=_;var w=_,E=n(25),k={data:{},get:function(e){var t=null;if(T(e)?(t=T(e),"undefined"===typeof j(e)&&O(e,t)):j(e)&&(I(e,t=j(e)),I(e,t,{domain:"bodjo.net"})),null!=t)try{t=JSON.parse(t)}catch(n){}else if("undefined"!==typeof k.data[e])return k.data[e];return t},set:function(e,t){var n=JSON.stringify(t);O(e,n),I(e,n),I(e,n,{domain:"bodjo.net"}),k.data[e]=t},remove:function(e){!function(e){I(e,"",{"max-age":-1})}(e),localStorage.removeItem(e),delete k.data[e]}};function j(e){try{return localStorage.getItem(e)}catch(t){return null}}function O(e,t){try{return localStorage.setItem(e,t)}catch(n){return null}}function T(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function I(e,t,n){n=Object(E.a)({path:"/"},n);var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var r in n){a+="; "+r;var i=n[r];!0!==i&&(a+="="+i)}document.cookie=a}window.Storage=k;var N=k,S=function(){function e(){Object(c.a)(this,e),this.EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.__listeners={},this.token=N.get("bodjo-token"),this.username=N.get("bodjo-username"),this.loading=!1,this.verified=!1,null!=this.token&&"string"===typeof this.token&&this.check()}return Object(u.a)(e,[{key:"on",value:function(e,t){"undefined"===typeof this.__listeners[e]&&(this.__listeners[e]=[]),this.__listeners[e].push(t)}},{key:"emit",value:function(e){if("undefined"!==typeof this.__listeners[e]){var t=Array.prototype.slice.apply(arguments).slice(1),n=!0,a=!1,r=void 0;try{for(var i,s=this.__listeners[e][Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;o.apply(o,t)}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}}}},{key:"login",value:function(e,t,n){var a=this;this.loading=!0,this.emit("checking"),w.GET("/account/login",{username:e,password:t},function(t,r){a.loading=!1,a.verified=t&&"ok"===r.status,a.verified&&(a.token=r.token.value,a.username=e,N.set("bodjo-token",a.token),N.set("bodjo-username",a.username)),a.emit("checked",a.verified),n(a.verified,r.errParameter,r)})}},{key:"register",value:function(e,t,n,a){var r=this;this.loading=!0,this.emit("checking");var i={username:e,password:t};"undefined"!==typeof n&&n.length>0&&(i.email=n),w.GET("/account/register",i,function(e,t){r.loading=!1,r.verified=e&&"ok"===t.status,r.verified&&(r.token=t.token.value,r.username=t.token.username,N.set("bodjo-token",r.token),N.set("bodjo-username",r.username)),r.emit("checked",r.verified),a(r.verified,t.errParameter,t)})}},{key:"uploadImage",value:function(e,t){if(this.verified){w.POST("/account/uploadImage",{token:this.token,ext:{"image/png":"png","image/jpeg":"jpeg","image/jpg":"jpg","image/gif":"gif"}[e.type]},function(t){var n=new FormData;n.append("image",e),t.send(n)},function(e,n){t(e&&"ok"==n.status,n)})}}},{key:"logout",value:function(){var e=this;this.token&&this.verified&&(this.loading=!0,w.GET("/account/logout",{token:this.token},function(t,n){e.loading=!1,e.token=null,e.verified=!1,t&&"ok"==n.status&&console.log("token removed successfully"),e.emit("checked",e.verified)})),N.remove("bodjo-token"),N.remove("bodjo-username")}},{key:"edit",value:function(e,t,n){var a={token:this.token};e.length>0&&(a.email=e),t.length>0&&(a.about=t),w.GET("/account/edit",a,function(e,t){n(e&&"ok"===t.status)})}},{key:"check",value:function(){var e=this;this.loading=!0,this.emit("checking"),w.GET("/account/check",{token:this.token},function(t,n){e.loading=!1,e.verified=t&&"ok"===n.status,n.token&&n.token.username&&(e.username=n.token.username),e.verified&&(N.set("bodjo-token",e.token),N.set("bodjo-username",e.username)),e.emit("checked",e.verified)})}}]),e}(),C=window.account=new S,x=n(19),R=function e(t){return x[e.lang][t]};R.langs=Object.keys(x),R.lang=window.Storage.get("bodjo-lang")||(window.navigator.language.match(/^\w+/)||["en"])[0].toLowerCase(),-1==R.langs.indexOf(R.lang)&&(R.lang=R.langs[0]),R.updateLang=function(e){e!=R.lang&&-1!=R.langs.indexOf(e)&&(window.Storage.set("bodjo-lang",e),R.lang=e,window.location.reload())};var M=window.T=R,U=(n(39),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).gameServers={},n.state={loading:!0};var a=Object(p.a)(Object(p.a)(n));function r(e,t,n){var r={},i=!0,s=!1,o=void 0;try{for(var l,c=n.servers[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,m=a.gameServers[u.name]=new L(u,function(e){var t={};t[e.name]=e,a.setState(t)});m.obtain(),r[u.name]=m.info()}}catch(d){s=!0,o=d}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}r.loading=!1,t?e.setState(r):e.state=r}if(window.__gamesListCache)r(Object(p.a)(Object(p.a)(n)),!1,window.__gamesListCache);else{var i={};C.token&&C.verified&&(i.token=C.token),w.GET("/games/info",i,function(e,t){e&&"ok"===t.status&&(r(Object(p.a)(Object(p.a)(n)),!0,t),window.__gamesListCache=t)})}return n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){for(var e in this.gameServers)this.gameServers[e].destroy();this.state={}}},{key:"go",value:function(e,t){window.location.href=t+"/#"+C.username+":"+C.token}},{key:"render",value:function(){var e=[];if(!this.state.loading){var t={};for(var n in this.state)if("loading"!=n){var a=this.state[n].game;this.state[n].local&&this.state[n].status&&(a="_"+this.state[n].name),"undefined"===typeof t[a]&&(t[a]=[]),t[a].push(this.state[n])}for(var i in t){var s=(t[i][0]||{game:i}).game,o=[],l=!0,c=!1,u=void 0;try{for(var m,d=t[i][Symbol.iterator]();!(l=(m=d.next()).done);l=!0){var h=m.value;o.push(r.a.createElement("div",{className:"game-server",key:h.name},r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"status "+(h.status?"enabled":"disabled")}),r.a.createElement("span",{className:"players-count"},h.status?r.a.createElement("span",null,"[",h.local?r.a.createElement("i",null,"local"):r.a.createElement("span",null,r.a.createElement("b",null,h.players.value),"/",h.players.max),"]"):r.a.createElement("span",null,"[",r.a.createElement("b",{className:"loading"},r.a.createElement("span",null,"-/|\\")),"]")),r.a.createElement("span",{className:"name"},h.showName)),r.a.createElement("div",{className:"go"+(C.verified?"":" disabled")},r.a.createElement("div",null,r.a.createElement(v,{disabled:!h.status||!C.verified,onClick:this.go.bind(this,h.name,h.link)},M("game_play")),r.a.createElement("span",{className:"label"},M("game_shouldlogin1")," ",r.a.createElement(g,{to:"/login/"},M("game_shouldlogin2")))),r.a.createElement(v,{invert:!0,disabled:!h.status,to:h.spectateLink},M("game_spectate")))))}}catch(p){c=!0,u=p}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}e.unshift(r.a.createElement("div",{className:"game"+("_"==i[0]?" event":""),key:i,style:{backgroundImage:"url(assets/games/"+s+"/bg.png)"}},r.a.createElement("h3",null,"_"==i[0]?"LIVE "+s+" hackathon":s),"_"==i[0]?r.a.createElement("div",{className:"eventanim"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)):"",o,r.a.createElement("div",{className:"grey"})))}}return 0==e.length&&e.push(r.a.createElement("div",{className:"no-games",key:"no-games"},r.a.createElement("h3",null,window.randomFace()),r.a.createElement("span",null,"\u0432\u0441\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c! \u0433\u0434\u0435 \u0438\u0433\u0440\u044b\u044b?"))),r.a.createElement("div",{className:"section games"},r.a.createElement("h2",null,r.a.createElement("img",{src:"/assets/games.png"}),window.T("tab_games")),this.state.loading?r.a.createElement(b,null):e)}}]),t}(r.a.Component)),L=function(){function e(t,n){Object(c.a)(this,e),this.onUpdate=n,this.host=t.host,this.apihost=t.apihost,this.name=t.name,this.game=t.game,this.showName=this.name.substring(0,this.game.length+1)==this.game+"-"?this.name.substring(this.game.length+1):this.name,this.status=!1,this.link=t.host,this.link.indexOf("http://")<0&&this.link.indexOf("https://")<0&&(this.link="http://"+this.link),this.spectateLink=this.link+"/spectate",this.loading=!0,this.local=0==this.apihost.length,this.players={value:0,max:0}}return Object(u.a)(e,[{key:"update",value:function(){this.onUpdate(this.info())}},{key:"info",value:function(){return{name:this.name,showName:this.showName,game:this.game,host:this.host,link:this.link,local:this.local,status:this.status,players:this.players,spectateLink:this.spectateLink}}},{key:"destroy",value:function(){this.pingTimeout&&clearTimeout(this.pingTimeout)}},{key:"obtain",value:function(){this.loadInfo()}},{key:"loadInfo",value:function(e){var t=this;if(this.local){var n=new Image;n.src=this.link+"/favicon.png",n.onload=function(){var e=t.status;t.status=!0,e!=t.status&&t.update()}}else w.GET(this.apihost+"/status",function(n,a){if(n)t.players.value=a.playersCount,t.players.max=a.maxPlayersCount,t.loading=!1,t.status=!0,t.update();else{var r=t.status;t.status=!1,r!=t.status&&t.update()}"function"===typeof e&&e()})}}]),e}(),q=U,A=(n(40),2),H=function(e){function t(e){var n;function a(e,t,n){var a=n.pages,r=!0,i=!1,s=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;c.html=window.parseBodjoPage(c.preview)+('<span class="closer"></span><a class="link more" href="https://pages.bodjo.net/'+c.id+'">'+window.T("news_moreinfo")+"</a>")}}catch(m){i=!0,s=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw s}}var u={news:a,newsTotal:n.total,loading:!1};t?e.setState(u):e.state=u}return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={news:[],newsTotal:0,loading:!0},window.__newsListCache?a(Object(p.a)(Object(p.a)(n)),!1,window.__newsListCache):w.GET("/pages/search",{q:"news.",lang:window.T.lang,preview:1,order:!1,count:A},function(e,t){e&&"ok"===t.status&&(a(Object(p.a)(Object(p.a)(n)),!0,t),window.__newsListCache=t)}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section news"},r.a.createElement("h2",null,r.a.createElement("img",{src:"/assets/news.png"}),window.T("tab_news")),this.state.loading?r.a.createElement(b,null):[this.state.news.map(function(e){return r.a.createElement("div",{key:e.id,className:"news-piece bodjo-page",dangerouslySetInnerHTML:{__html:e.html}})}),this.state.newsTotal>A?r.a.createElement(g,{to:"/news/"},window.T("news_morenews")):""])}}]),t}(r.a.Component),G=(n(41),function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return setTimeout(window.loadBodjoPage.bind(null,"main.about."+M.lang,"#index .whatisit",{signature:!1,cache:!0}),1),r.a.createElement("div",{id:"index"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"section whatisit"}),r.a.createElement(q,null)),r.a.createElement("div",{className:"right"},r.a.createElement(H,null)))}}]),t}(r.a.Component)),P=(n(42),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).hasError=!1,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"value",value:function(){return s.a.findDOMNode(this).value}},{key:"error",value:function(){var e=this,t=s.a.findDOMNode(this);this.hasError||(this.hasError=!0,t.className=(this.props.className||"")+" error",setTimeout(function(){t.className=e.props.className||"",e.hasError=!1},500))}},{key:"render",value:function(){return r.a.createElement("input",{type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,id:this.props.id,className:this.props.className,onChange:this.props.onChange,onKeyUp:this.props.onKeyUp,defaultValue:this.props.value})}}]),t}(r.a.Component)),D=(n(43),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).usernameInput=r.a.createRef(),n.passwordInput=r.a.createRef();var a=function(){return n.forceUpdate()};return C.on("checking",a),C.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(){var e=this,t=this.usernameInput.current.value(),n=this.passwordInput.current.value();0==t.length&&this.usernameInput.current.error(),0==n.length&&this.passwordInput.current.error(),t.length>0&&n.length>0&&C.login(t,n,function(t,n,a){("username"===n||"fail"==a.status&&1==a.errCode)&&e.usernameInput.current.error(),("password"===n||"fail"==a.status&&1==a.errCode)&&e.passwordInput.current.error()})}},{key:"render",value:function(){return C.verified?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{id:"login-page-wrapper"},r.a.createElement("div",{id:"login-page"},r.a.createElement("h3",null,M("login_header")),r.a.createElement("div",{className:"inputs"},r.a.createElement(P,{ref:this.usernameInput,placeholder:M("login_username_placeholder"),type:"text",className:"username"}),r.a.createElement(P,{ref:this.passwordInput,placeholder:M("login_password_placeholder"),type:"password",className:"password"})),C.loading?r.a.createElement(b,{inline:!0}):r.a.createElement(v,{enter:!0,invert:!0,onClick:this.onSubmit.bind(this)},M("login_submit"))))}}]),t}(r.a.Component)),V=(n(44),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).usernameInput=r.a.createRef(),n.passwordInput=r.a.createRef(),n.repeatPasswordInput=r.a.createRef(),n.emailInput=r.a.createRef();var a=function(){return n.forceUpdate()};return C.on("checking",a),C.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(){var e=this,t=this.usernameInput.current.value(),n=this.passwordInput.current.value(),a=this.repeatPasswordInput.current.value(),r=this.emailInput.current.value();t.length<3||t.length>15||/^bot.+$/g.test(t)?this.usernameInput.current.error():n.length<6||n.length>100?this.passwordInput.current.error():n!==a?(this.passwordInput.current.error(),this.repeatPasswordInput.current.error()):r.length>0&&!C.EMAIL_REGEX.test(r)?this.emailInput.current.error():C.register(t,n,r,function(t,n){"username"===n&&e.usernameInput.current.error(),"password"===n&&e.passwordInput.current.error(),"email"===n&&e.emailInput.current.error()})}},{key:"render",value:function(){return C.verified?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{id:"register-page-wrapper"},r.a.createElement("div",{id:"register-page"},r.a.createElement("h3",null,M("register_header")),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",null,r.a.createElement(P,{ref:this.usernameInput,placeholder:M("register_username_placeholder"),type:"text",className:"username"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:M("register_username_rules")}})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(P,{ref:this.passwordInput,placeholder:M("register_password_placeholder"),type:"password",className:"password"}),r.a.createElement(P,{ref:this.repeatPasswordInput,placeholder:M("register_password_repeat_placeholder"),type:"password",className:"password-repeat"})),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:M("register_password_rules")}})),r.a.createElement("div",null,r.a.createElement(P,{ref:this.emailInput,placeholder:M("register_email_placeholder"),type:"text",className:"email"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:M("register_email_rules")}}))),C.loading?r.a.createElement(b,{inline:!0}):r.a.createElement(v,{enter:!0,invert:!0,onClick:this.onSubmit.bind(this)},M("register_submit"))))}}]),t}(r.a.Component)),B=window.UserInfo={cache:{},__query:[],__callbacks:[],__lastQueryAppend:0,load:function(e,t){if(B.cache[e])t(B.cache[e]);else{B.__query.length;B.__query.push(e),B.__callbacks.push(t);var n=B.__lastQueryAppend=Date.now();setTimeout(function(){n==B.__lastQueryAppend&&B.__query.length>0&&w.GET("/account/info",{usernames:B.__query},function(n,a){for(var r in a.result)B.cache[r]=a.result[r],e==r&&t(B.cache[r]);B.__query=[]})},50)}},my:function(e,t){w.GET("/account/info",{token:e},function(e,n){e&&"ok"===n.status&&n.result.length>0&&t(n.result[0])})}},K=B,z=(n(45),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).hasError=!1,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"value",value:function(){return s.a.findDOMNode(this).querySelector("textarea").value}},{key:"error",value:function(){var e=this;if(!this.hasError){this.hasError=!0;var t=s.a.findDOMNode(this).querySelector("textarea");t.className=(this.props.className||"")+" error",setTimeout(function(){t.className=e.props.className||"",e.hasError=!1},500)}}},{key:"onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e);var t=s.a.findDOMNode(this),n=t.querySelector("textarea"),a=t.querySelector("span");this.props.max?(a.innerText=n.value.length+" ("+this.props.max+")",a.className=this.props.max<n.value.length?"error":""):a.innerText=n.value.length}},{key:"render",value:function(){return r.a.createElement("div",{className:"textarea"},r.a.createElement("textarea",{type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,id:this.props.id,className:this.props.className,onChange:this.props.onChange,onKeyUp:this.onKeyUp.bind(this),defaultValue:this.props.value}),r.a.createElement("span",null,(this.props.value||"").length+(this.props.max?" ("+this.props.max+")":"")))}}]),t}(r.a.Component));n(46);function J(e){if(e<20)return e;var t=e%10;return(e-t)/10%10>=2&&t>0?t:e}var W=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).submitButton=r.a.createRef(),n.aboutInput=r.a.createRef(),n.emailInput=r.a.createRef(),n.state={loading:!0,info:null},n._ismounted=!1;var a=function(){return n.forceUpdate()};return C.on("checking",a),C.on("checked",a),K.my(C.token,function(e){var t={loading:!1,info:e};n._ismounted?n.setState(t):n.state=t}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"handleLogout",value:function(){C.logout()}},{key:"handleEdit",value:function(){var e=this,t=this.emailInput.current.value(),n=this.aboutInput.current.value();t.length>0&&!C.EMAIL_REGEX.test(t)?this.emailInput.current.error():n.length>250?this.aboutInput.current.error():C.edit(t,n,function(){var a=e.state.info;a.email=t,a.about=n,e.setState({info:a}),e.update()})}},{key:"handleImageUpload",value:function(e){var t=this;e.persist();var n=e.target.files[0];"object"===typeof n&&C.uploadImage(n,function(e,n){if(e&&"ok"==n.status){var a=t.state.info;a.image=n,t.setState({imaget:Date.now(),info:a})}else alert(n.errText)})}},{key:"update",value:function(){this.submitButton.current.setState({disabled:this.aboutInput.current.value()==this.state.info.about&&this.emailInput.current.value()==this.state.info.email})}},{key:"getTimeString",value:function(){for(var e,t,n,a=Date.now()-this.state.info["registration-time"],r="",i=M("myaccount_usertime_ranges"),s=M("myaccount_usertime_ranges_countlastnumber"),o=a,l=0;l<i.length;++l){var c=Math.floor(o/i[l].value);c<1||(r+=c+" "+i[l].string[(e=s?J(c):c,t=1,n=i[l].string.length,Math.min(Math.max(e,t),n)-1)]+" ",o-=c*i[l].value)}return r}},{key:"render",value:function(){if(!C.loading&&(!C.verified||!C.token))return r.a.createElement(l.a,{to:"/login/"});if(C.loading||this.state.loading)return r.a.createElement(b,null);var e=this.timeString||(this.timeString=this.getTimeString());return r.a.createElement("div",{id:"my-account-wrapper"},r.a.createElement("div",{id:"my-account"},r.a.createElement("span",{id:"user-image",style:{backgroundImage:"url("+this.state.info.image[128]+(this.state.imaget?"?"+this.state.imaget:"")+")"}},r.a.createElement("span",{className:"upload"}),r.a.createElement("input",{onChange:this.handleImageUpload.bind(this),type:"file",accept:".png,.jpg,.jpeg,.gif"})),r.a.createElement("div",{id:"user-info"},r.a.createElement("h1",null,this.state.info.username),r.a.createElement("p",{id:"user-time"},M("myaccount_usertime"),e),r.a.createElement("br",null),r.a.createElement(P,{ref:this.emailInput,onKeyUp:this.update.bind(this),onChange:this.update.bind(this),type:"text",placeholder:M("myaccount_email_placeholder"),value:this.state.info.email}),r.a.createElement(z,{ref:this.aboutInput,onKeyUp:this.update.bind(this),onChange:this.update.bind(this),type:"text",placeholder:M("myaccount_bio_placeholder"),value:this.state.info.about,max:250}),r.a.createElement("br",null),r.a.createElement(v,{disabled:!0,ref:this.submitButton,enter:!0,onClick:this.handleEdit.bind(this)},M("myaccount_change")),r.a.createElement("span",{className:"space"}),r.a.createElement(v,{invert:!0,onClick:this.handleLogout},M("myaccount_logout")))))}}]),t}(r.a.Component);n(47);window.faces=["\\(o_o)/","(\u30ce\u0ca0\u76ca\u0ca0)\u30ce\u5f61\u253b\u2501\u253b","(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b","\u30fd(`\u0414\xb4)\uff89","\u30ce( \xba _ \xba\u30ce)","\xac_\xac","\xaf(\xb0_o)/\xaf","\xaf\\_(\u30c4)_/\xaf","\xb0\u0414\xb0","( \ufe36\ufe3f\ufe36)","( .-. )","( .o.)"];var X=window.randomFace=function(e){"string"!==typeof e&&(e="react");var t=window.faces[Math.round(Math.random()*(window.faces.length-1))];if("react"==e){for(var n=[],a=0;a<t.length;++a)n.push(r.a.createElement("span",{style:{animationDelay:a/3%1+"s"}},t[a]));return r.a.createElement("div",{className:"face"},n)}for(var i='<div className="face">',s=0;s<t.length;++s)i+='<span style="animation-delay: '+s/3%1+'s">'+t[s]+"</span>";return i+"</div>"},F=(n(48),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"news"},r.a.createElement("b",null,r.a.createElement(X,null)),r.a.createElement("p",null,M("news_missing")))}}]),t}(r.a.Component)),Z=(n(49),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"scoreboard"},r.a.createElement("b",null,r.a.createElement(X,null)),r.a.createElement("p",null,M("scoreboard_missing")))}}]),t}(r.a.Component)),$=(n(50),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={loading:!0,info:null},K.load(n.props.username,function(e){n.setState({loading:!1,info:e})}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user"+(this.state.loading?" loading":"")},r.a.createElement("span",{className:"image",style:{backgroundImage:this.state.info?"url("+this.state.info.image[64]+")":""}}),this.props.me?r.a.createElement(g,{to:"/my-account/",className:"username"},this.props.username):r.a.createElement("span",{className:"username"},this.props.username))}}]),t}(r.a.Component)),Q=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(m.a)(this,Object(d.a)(t).call(this,e));var a=function(){return n.forceUpdate()};return C.on("checking",a),C.on("checked",a),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return C.loading?r.a.createElement(b,null):C.token&&C.username&&C.verified?r.a.createElement($,{me:!0,username:C.username}):r.a.createElement("div",null,r.a.createElement(g,{to:"/login/"},window.T("menu_login"))," ",r.a.createElement("span",null,"/")," ",r.a.createElement(g,{to:"/register/"},window.T("menu_register")))}}]),t}(r.a.Component);n(51);function Y(){return r.a.createElement("div",{id:"header"},r.a.createElement("div",{id:"title"},"bodjo",r.a.createElement(g,{className:"version",to:"https://pages.bodjo.net/main.devstatus."+window.T.lang},"v2.0")),r.a.createElement("div",{id:"auth"},r.a.createElement(Q,null)),r.a.createElement("div",{id:"menu"},r.a.createElement(g,{to:"/"},window.T("menu_main")),r.a.createElement(g,{to:"/news/"},window.T("menu_news")),r.a.createElement(g,{to:"/scoreboard/"},window.T("menu_scoreboard"))))}n(52);function ee(){for(var e=[],t=0;t<window.T.langs.length;++t){var n=window.T.langs[t];e.push(r.a.createElement("a",{className:"link "+(window.T.lang==n?"active":""),onClick:window.T.updateLang.bind(null,n)},n.toUpperCase())),t<window.T.langs.length-1&&e.push(" / ")}return r.a.createElement("div",{id:"footer"},r.a.createElement("div",{className:"contacts"},"Telegram: ",r.a.createElement("a",{href:"https://t.me/dkaraush"},"@dkaraush"),r.a.createElement("br",null),"E-mail: ",r.a.createElement("a",{href:"mailto://dkaraush@gmail.com"},"dkaraush@gmail.com")),r.a.createElement("div",{className:"lang"},e))}var te=function(){return r.a.createElement(o.a,null,r.a.createElement(Y,null),r.a.createElement("div",{id:"main"},r.a.createElement(l.b,{path:"/",exact:!0,component:G}),r.a.createElement(l.b,{path:"/news/",component:F}),r.a.createElement(l.b,{path:"/scoreboard/",component:Z}),r.a.createElement(l.b,{path:"/login/",component:D}),r.a.createElement(l.b,{path:"/register/",component:V}),r.a.createElement(l.b,{path:"/my-account/",component:W})),r.a.createElement(ee,null))};n(53);s.a.render(r.a.createElement(te,null),document.getElementById("root"))}]),[[26,1,2]]]);
//# sourceMappingURL=main.9ee67d11.chunk.js.map